{"code":"!function(e){var i={};function o(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=i,o.d=function(e,i,n){o.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,i){if(1&i&&(e=o(e)),8&i)return e;if(4&i&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&i&&\"string\"!=typeof e)for(var t in e)o.d(n,t,function(i){return e[i]}.bind(null,t));return n},o.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(i,\"a\",i),i},o.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},o.p=\"\",o(o.s=0)}([function(e,i,o){\"use strict\";o.r(i);const n=()=>\"object\"==typeof cordova?\"android\"===window.cordova.platformId:\"object\"==typeof window.awebapp,t=()=>{const e=document.createElement(\"canvas\"),i=e.getContext(\"webgl\")||e.getContext(\"experimental-webgl\");return!!(i&&i instanceof WebGLRenderingContext)},a=e=>e==parseFloat(e)?!(e%2):void 0,l=(e,i,o)=>{let n=!1;for(var t=0,a=i.length;t<a;t++)\"intruzi\"==e?i[t].randomMove==o&&(n=!0):\"kladki\"==e&&i[t].isUp==o&&(n=!0);return n},s=e=>{let i=!1;return void 0!==e&&(i=!0),i},d=(e,i)=>{if((e=parseInt(e,10))>(i=parseInt(i,10))){const o=e;e=i,i=o}return Math.floor(Math.random()*(i-e+1)+e)},r=e=>e[Math.floor(Math.random()*e.length)],m=(e,i,o)=>{if(n())localStorage.setItem(e,i);else{let n;if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),n=\"; expires=\"+e.toGMTString()}else n=\"\";document.cookie=e+\"=\"+i+n+\"; path=/\"}},c=e=>{n()?localStorage.removeItem(e):document.cookie=e+\"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;\"},u=(e,i)=>{if(n())return i?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e);if(\"\"!==document.cookie){const i=document.cookie.split(/; */);for(let o=0;o<i.length;o++){const n=i[o].split(\"=\")[0],t=i[o].split(\"=\")[1];if(n===decodeURIComponent(e))return decodeURIComponent(t)}}};alert(\"x\"),Number.isInteger=Number.isInteger||function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e},window.addEventListener(\"load\",(function(e){setTimeout((function(){document.getElementsByTagName(\"body\")[0].classList.add(\"during\")}),2e3),setTimeout((function(){document.getElementsByTagName(\"body\")[0].classList.remove(\"during\"),document.getElementsByTagName(\"body\")[0].classList.add(\"ready\")}),6e3)}));const b=16,p=[],y=3,h=3,g=6,f=1.08,v=520,j=440,E=290,x=200,k=350,w=260,T=480,L=.9;let S,B,M,C,I,A,O,P,G,W,z,_,D,R,F,K,N,Y,H={name:\"level1\",activeIdLevel:1,readyLoad:!1,blockedKeys:!1,backgroundLevel:!1,backgroundColor:!1,backgroundParallax:!1},q=[],U=\"right\",V={main:!1},X=1,J=0,Q=0,Z=!1,$=0,ee=0,ie=!1,oe=!1,ne=0,te=0,ae=!1,le=200;const se=()=>{he.load.tilemap(\"level1\",\"levels/level1.json\",null,Phaser.Tilemap.TILED_JSON),p[1]={background:\"background4\",fog:\"yellowFog\",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0,bgAudio:\"bg-sound\"},he.load.tilemap(\"level2\",\"levels/level2.json\",null,Phaser.Tilemap.TILED_JSON),p[2]={background:\"background4\",backgroundMoveX:500,backgroundColor:\"#f3f5ff\",fog:\"yellowFog\",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0,timeLimit:200,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level3\",\"levels/level3.json\",null,Phaser.Tilemap.TILED_JSON),p[3]={background:\"background4\",backgroundMoveX:800,backgroundColor:\"#f3f5ff\",fog:\"yellowFog\",fogPositionY:0,fogSpeed:0,positionGround:96,parallax:!0,timeLimit:200,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level4\",\"levels/level4.json\",null,Phaser.Tilemap.TILED_JSON),p[4]={background:\"background4\",backgroundMoveX:1e3,backgroundColor:\"#f3f5ff\",fog:\"yellowFog\",fogPositionY:-b,positionGround:4*b,parallax:!0},he.load.tilemap(\"level5\",\"levels/level5.json\",null,Phaser.Tilemap.TILED_JSON),p[5]={background:\"background5\",backgroundRepeatX:!0,backgroundColor:\"#f3f5ff\",fog:\"yellowFog\",fogPositionY:-2*b,positionGround:4*b,parallax:!0,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level6\",\"levels/level6.json\",null,Phaser.Tilemap.TILED_JSON),p[6]={background:\"background5\",backgroundRepeatX:!0,backgroundColor:\"#f3f5ff\",positionGround:180*b,parallax:!0,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level7\",\"levels/level7.json\",null,Phaser.Tilemap.TILED_JSON),p[7]={backgroundRepeatX:!0,backgroundColor:\"#f3f5ff\",fogPositionY:-2*b,positionGround:50*b,parallax:!0,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level8\",\"levels/level8.json\",null,Phaser.Tilemap.TILED_JSON),p[8]={background:\"background5\",backgroundRepeatX:!0,backgroundColor:\"#f3f5ff\",positionGround:173*b,parallax:!0,bgAudio:\"bg-sound-wind\"},he.load.tilemap(\"level9\",\"levels/level9.json\",null,Phaser.Tilemap.TILED_JSON),p[9]={background:\"the-end\",backgroundColor:\"#000000\",fog:!1,positionGround:!1,parallax:!1,bgAudio:\"bg-sound-music\"},he.load.image(\"tiles-1\",\"images/tiles-1.png\"),he.load.spritesheet(\"dude\",\"images/players1.png\",48,64),he.load.spritesheet(\"intruder1\",\"images/intruders4.png\",48,64),he.load.spritesheet(\"intruder2\",\"images/intruders2.png\",48,64),he.load.spritesheet(\"intruder3\",\"images/intruders3.png\",48,64),he.load.spritesheet(\"intruder4\",\"images/snake3.png\",71,33),he.load.spritesheet(\"intruder5\",\"images/condor2.png\",64,68),he.load.spritesheet(\"intruder6\",\"images/intruders6.png\",48,64),he.load.spritesheet(\"intruder7\",\"images/owl.png\",50,53),he.load.image(\"backgroundMenu\",\"images/menu.jpg\"),he.load.image(\"boxMenu\",\"images/box-menu4-mini.png\"),he.load.image(\"boxTopMenu\",\"images/top-menu-mini.png\"),he.load.image(\"background1\",\"images/background1.png\"),he.load.image(\"background1_1\",\"images/background1_1.png\"),he.load.image(\"background2\",\"images/background2_1.png\"),he.load.image(\"background3\",\"images/background3.png\"),he.load.image(\"background4\",\"images/background4.jpg\"),he.load.image(\"background5\",\"images/background5.jpg\"),he.load.image(\"tile-size-black\",\"images/tile-size-black.png\"),he.load.image(\"the-end\",\"images/the-end.png\"),he.load.spritesheet(\"buttonsWindowMenu\",\"images/buttons.png\",112,48),he.load.spritesheet(\"buttonsIcons\",\"images/icons.png\",48,48),he.load.spritesheet(\"buttonLevel\",\"images/button-level.png\",64,64),he.load.spritesheet(\"buttonNavigation\",\"images/navigations.png\",112,112),he.load.image(\"buttonPause\",\"images/pause.png\"),he.load.spritesheet(\"lifes-single-bar\",\"images/lifes-single-bar.png\",58,16),he.load.spritesheet(\"log\",\"images/log.png\",16,16),he.load.spritesheet(\"stone\",\"images/stone.png\",16,16),he.load.image(\"yellowFog\",\"images/fog-yellow.png\"),he.load.image(\"whiteFog\",\"images/fog-white.png\"),he.load.image(\"ground\",\"images/ground.png\"),he.load.spritesheet(\"coin\",\"images/nu3.png\",16,24),he.load.spritesheet(\"Life\",\"images/LifeFull.png\",16,31),he.load.spritesheet(\"Life2\",\"images/LifeSingle.png\",16,24),he.load.spritesheet(\"key\",\"images/key.png\",16,43),he.load.image(\"door\",\"images/door2.png\"),he.load.image(\"door-horizontal\",\"images/door-horizontal.png\"),he.load.image(\"lock\",\"images/lock1.png\"),he.load.image(\"cactus\",\"images/cactus2.png\"),he.load.image(\"grassLr\",\"images/grass_lr.png\"),he.load.spritesheet(\"cactus-animate\",\"images/cactus-animate.png\",61,94),he.load.spritesheet(\"grass-lr-anim\",\"images/grass_anim8.png\",34.5,32),he.load.spritesheet(\"tree\",\"images/tree-short.png\",130,179),he.load.image(\"bullet\",\"images/bullet.png\"),he.load.spritesheet(\"bullets_gun\",\"images/gun-bullets6.png\",20,28),he.load.spritesheet(\"end_level\",\"images/end_level.png\",100,130),he.load.spritesheet(\"save_level\",\"images/save-level2.png\",100,130),he.load.spritesheet(\"fire_up\",\"images/fire_up3.png\",48,48),he.load.spritesheet(\"fire_up_normal\",\"images/fire_up_normal_3.png\",24,24),he.load.spritesheet(\"fire_down\",\"images/fire_down3.png\",24,24),he.load.spritesheet(\"fire_left\",\"images/fire_left3.png\",24,24),he.load.spritesheet(\"fire_right\",\"images/fire_right3.png\",24,24),he.load.image(\"windmill_1_new\",\"images/windmill_1_5_new.png\"),he.load.image(\"windmill_2_new\",\"images/windmill_2_5_new.png\"),he.load.image(\"gun\",\"images/gun-real.png\"),he.load.image(\"cave\",\"images/cave.png\"),he.load.image(\"stone-big\",\"images/stone-big.png\"),he.load.spritesheet(\"stone-big-explosion\",\"images/stone-big-explosion.png\",96,96),he.load.spritesheet(\"fog-single\",\"images/fog-anim-half.png\",800,206),he.load.image(\"building1\",\"images/building-barn1.png\"),he.load.image(\"building2\",\"images/building-home1.png\"),he.load.image(\"building3\",\"images/building-big-home1.png\"),he.load.image(\"building4\",\"images/building-home2.png\"),he.load.image(\"building5\",\"images/building-big-home2.png\"),he.load.image(\"building6\",\"images/building-blacksmith.png\"),he.load.image(\"building7\",\"images/building-sheriff.png\"),he.load.image(\"building8\",\"images/building-saloon.png\"),he.load.image(\"building9\",\"images/building-store.png\"),he.load.image(\"b-sheriff\",\"images/b-sheriff.png\"),he.load.image(\"b-saloon\",\"images/b-saloon.png\"),he.load.image(\"b-store\",\"images/b-store.png\"),he.load.spritesheet(\"mine-part-2\",\"images/mine-part2-4.png\",175,331),he.load.image(\"mine-part-1\",\"images/mine-part1-6.png\"),he.load.spritesheet(\"water-red\",\"images/water_red6.png\",256,32),he.load.spritesheet(\"water\",\"images/water_4.png\",256,32),he.load.spritesheet(\"splash\",\"images/splash7.png\",84,38),he.load.spritesheet(\"splash-water-red\",\"images/splash-red9.png\",84,38),he.load.spritesheet(\"fireb\",\"images/fish7.png\",16,40),he.load.spritesheet(\"fireb2\",\"images/fireb.png\",16,16),he.load.spritesheet(\"explosion\",\"images/explosion.png\",64,64),he.load.image(\"invisible\",\"images/invisible.png\"),he.load.image(\"kladka-short\",\"images/kladka-short.png\"),he.load.audio(\"footstep\",\"audio/footstep2.mp3\"),he.load.audio(\"coin\",\"audio/coin.mp3\"),he.load.audio(\"shoot\",\"audio/shoot2.mp3\"),he.load.audio(\"bullets\",\"audio/bullets3.mp3\"),he.load.audio(\"explosion-intruder\",\"audio/explosion-intruder.mp3\"),he.load.audio(\"explosion\",\"audio/explosion.mp3\"),he.load.audio(\"break-bones\",\"audio/break-bones.mp3\"),he.load.audio(\"scream\",\"audio/scream.mp3\"),he.load.audio(\"scream2\",\"audio/scream2.mp3\"),he.load.audio(\"scream-intruder\",\"audio/scream-intruder.mp3\"),he.load.audio(\"splash\",\"audio/splash.mp3\"),he.load.audio(\"life\",\"audio/life.mp3\"),he.load.audio(\"condor\",\"audio/condor.mp3\"),he.load.audio(\"key\",\"audio/key.mp3\"),he.load.audio(\"break-ground\",\"audio/break.mp3\"),he.load.audio(\"quake\",\"audio/quake.mp3\"),he.load.audio(\"door-lift\",\"audio/door-lift.mp3\"),he.load.audio(\"bg1\",\"audio/bg.mp3\"),he.load.audio(\"flash\",\"audio/flash.mp3\"),he.load.audio(\"next-level\",\"audio/next-level.mp3\"),he.load.audio(\"tic-score\",\"audio/tic.mp3\"),he.load.audio(\"scale-down\",\"audio/down.mp3\"),he.load.audio(\"magic\",\"audio/magic.mp3\"),he.load.audio(\"bingo\",\"audio/bingo.mp3\"),he.load.audio(\"elevator\",\"audio/elevator.mp3\"),he.load.audio(\"owl\",\"audio/owl.mp3\"),he.load.audio(\"bg-sound\",\"audio/background2.mp3\"),he.load.audio(\"bg-sound-wind\",\"audio/only-wind.mp3\"),he.load.audio(\"bg-sound-music\",\"audio/background.mp3\"),he.scale.maxWidth=800,he.scale.maxHeight=450,he.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,he.scale.windowConstraints.bottom=\"visual\"},de={resetGameCookies:function(e){if(\"all\"===e){c(\"unlock-levels\"),B=1,c(\"coins-procent-last-memory\"),c(\"id-level-last-memory\");for(let e=1;e<=M;e++)c(\"coins-\"+e),c(\"coins-procent-\"+e)}c(\"bullets\"),c(\"coins\"),c(\"Lifes\"),c(\"main-Lifes\")},bgSet:function(e){he.stage.backgroundColor=e},audio:{footStep:function(e){if(!this.a1){const i=he.add.audio(\"footstep\");i.play(\"\",!1,e||.2),this.a1=!0,i.onStop.addOnce((function(){this.a1=!1}),this)}},magic:function(e){he.add.audio(\"magic\").play(\"\",!1,e||.2)},bingo:function(e){he.add.audio(\"bingo\").play(\"\",!1,e||.2)},coin:function(e){he.add.audio(\"coin\").play(\"\",!1,e||.2)},ticScore:function(e){he.add.audio(\"tic-score\").play(\"\",!1,e||.2)},shoot:function(e){he.add.audio(\"shoot\").play(\"\",!1,e||.2)},bullets:function(e){he.add.audio(\"bullets\").play(\"\",!1,e||.2)},explosionIntruder:function(){he.add.audio(\"explosion-intruder\").play(\"\",!1,.5)},explosion:function(){he.add.audio(\"explosion\").play(\"\",!1,.5)},breakBones:function(e){he.add.audio(\"break-bones\").play(\"\",!1,e||.2)},scaleDown:function(e){he.add.audio(\"scale-down\").play(\"\",!1,e||.2)},scream:function(e){he.add.audio(\"scream\").play(\"\",!1,e||.2)},screamIntruder:function(e){he.add.audio(\"scream-intruder\").play(\"\",!1,e||.2)},flash:function(e){he.add.audio(\"flash\").play(\"\",!1,e||.2)},splash:function(e){if(!this.aSplash){he.add.audio(\"splash\").play(\"\",!1,e||.1),this.aSplash=!0,he.time.events.add(500,(function(){this.aSplash=!1}),this)}},elevator:function(e){if(!this.aElevator){he.add.audio(\"elevator\").play(\"\",!1,e||.1),this.aElevator=!0,he.time.events.add(500,(function(){this.aElevator=!1}),this)}},life:function(e){he.add.audio(\"life\").play(\"\",!1,e||.2)},key:function(e){he.add.audio(\"key\").play(\"\",!1,e||.2)},condor:function(e){if(!this.aCcondor){const i=he.add.audio(\"condor\");i.play(\"\",!1,e||.2),this.aCcondor=!0,i.onStop.addOnce((function(){this.aCcondor=!1}),this)}},owl:function(e){if(!this.aOwl){const i=he.add.audio(\"owl\");i.play(\"\",!1,e||.2),this.aOwl=!0,i.onStop.addOnce((function(){this.aOwl=!1}),this)}},breakGround:function(e){he.add.audio(\"break-ground\").play(\"\",!1,e||.2)},quake:function(e){he.add.audio(\"quake\").play(\"\",!1,e||.2)},doorLift:function(e){he.add.audio(\"door-lift\").play(\"\",!1,e||.2)},bg:{play:function(e,i){i&&(s(this.obj)&&this.obj.destroy(),this.obj=he.add.audio(i),this.obj.play(\"\",!1,e||.2,!0))},stop:function(){s(this.obj)&&this.obj.stop()}},nextLevel:function(e){if(!this.nL){const i=he.add.audio(\"next-level\");i.play(\"\",!1,e||.2),this.nL=!0,i.onStop.addOnce((function(){this.nL=!1}),this)}}},preloader:{add:function(e,i,o,n){de.bgSet(\"#000000\"),de.preloader.obj=he.add.group(),de.preloader.obj.enableBody=!0;const t=ae?o?\"Congratulations!\":\"\":\"Level \"+H.activeIdLevel,a=ae?o?\"To be continued...\":\"\":\"Loading...\";de.text.show(\"center\",0,-b,.9,t,\"bold 52px Arial\",\"#ffffff\",!0,\"loading1\"),de.text.show(\"center\",0,.7*b,.9,a,\"bold 28px Arial\",\"#ffffff\",!0,\"loading2\"),de.text.show(\"center\",0,5*b,.9,\"Copyright © Gold Rush, once upon a time in the Wild West...\",\"16px Arial\",\"#ffffff\",!0,\"loadingCopyright1\"),de.text.show(\"center\",0,5.75*b,.9,\"semDesign\",\"14px Arial\",\"#ffffff\",!0,\"loadingCopyright2\")},hide:function(){s(this.obj)&&this.obj.destroy(),de.text.hide(\"loading1\"),de.text.hide(\"loading2\"),de.text.hide(\"loadingCopyright1\"),de.text.hide(\"loadingCopyright2\")}},windows:{boxTopMenu:{positionBar:function(e){de.windows.boxMenu.obj||\"inside-boxMenu\"===e?(N=6*b+8,K=7*b):(K=-1*b,N=-1*b+2)},const:{show:function(e){de.windows.boxTopMenu.positionBar(e),ae||(de.windows.boxTopMenu.positionBar(),de.image.show(de.windows.boxMenu.obj?18*b+K:33*b+K,(de.windows.boxMenu.obj,1.5*b+N),\"Life\",\"Life1\",1,1,.8,.8,8),de.image.show(de.windows.boxMenu.obj?22*b+K:37*b+K,(de.windows.boxMenu.obj,1.5*b+N),\"coin\",\"coin\",1,1,.8,.8,3),de.image.show(de.windows.boxMenu.obj?28.4*b+K:43.4*b+K,(de.windows.boxMenu.obj,1.5*b+N-4),\"bullets_gun\",\"bullets_gun\",1,1,.75,.75,0),de.image.show(de.windows.boxMenu.obj?32.5*b+K:47.5*b+K,(de.windows.boxMenu.obj,1.5*b+N-2),\"key\",\"key\",1,1,.7,.5,5))},hide:function(){if(!ae){const e=[\"Life1\",\"Life2\",\"coin\",\"bullets_gun\",\"key\"];for(let i=0,o=e.length;i<o;i++)de.image.hide(e[i])}}},letAlways:{show:function(){de.windows.boxTopMenu.positionBar(),p[H.activeIdLevel].timeLimit&&!H.blockedKeys&&(Q===p[H.activeIdLevel].timeLimit&&de.windows.boxMenu.show(\"time-over\"),Z=p[H.activeIdLevel].timeLimit-Q),de.text.show(!1,(de.windows.boxMenu.obj,4*b+K),(de.windows.boxMenu.obj,1.5*b+N),1,\"Level \"+H.activeIdLevel+\" / \"+(p[H.activeIdLevel].timeLimit?\"Limit: \"+Z:Q)+\"s\",\"700 15px Arial\",\"#ded4b8\",!0,\"level_text\",!0)}},let:{show:function(){de.windows.boxTopMenu.positionBar(),de.text.show(!1,de.windows.boxMenu.obj?19*b+K:34*b+K,(de.windows.boxMenu.obj,1.5*b+N),1,\"x \"+de.mainElements.player.numberMainLifes,\"700 15px Arial\",\"#ded4b8\",!0,\"number_main_Lifes_text\",!0),de.image.show(de.windows.boxMenu.obj?14.7*b+K:29.7*b+K,(de.windows.boxMenu.obj,1.75*b+N),\"lifes-single-bar\",\"lifes-single-bar\",1,1,.8,.8,3-de.mainElements.player.numberLifes),de.text.show(!1,de.windows.boxMenu.obj?23*b+K:38*b+K,(de.windows.boxMenu.obj,1.5*b+N),1,\"x \"+de.mainElements.player.numberCoins+\" (\"+de.mainElements.player.numberCoinsLevelProcent+\"%)\",\"700 15px Arial\",\"#ded4b8\",!0,\"coinstext\",!0),de.text.show(!1,de.windows.boxMenu.obj?29.5*b+K:44.5*b+K,(de.windows.boxMenu.obj,1.5*b+N),1,\"x \"+de.mainElements.player.countBullets,\"700 15px Arial\",\"#ded4b8\",!0,\"bullets_gun_text\",!0),de.text.show(!1,de.windows.boxMenu.obj?33.5*b+K:48.5*b+K,(de.windows.boxMenu.obj,1.5*b+N),1,\"x \"+te,\"700 15px Arial\",\"#ded4b8\",!0,\"key_text\",!0)}}},boxMenu:{obj:!1,bg:function(e){this.obj&&this.obj.destroy(),this.obj=he.add.tileSprite(2*b,2*b,736,377,\"boxMenu\"),this.obj.alpha=0,this.obj.fixedToCamera=!0,e?this.obj.alpha=.8:he.add.tween(this.obj).to({alpha:.8},180,Phaser.Easing.Linear.None,!0)},show:function(e){de.buttons.openBoxMenu.hide(),this.bg(e),de.buttons.end.show(),de.buttons.startFromBeginning.show(),de.buttons.mute.show(u(\"mute\")?10:9),V.main?(de.buttons.navigations.hide(),de.image.hide(\"boxTopMenu\",!0),de.windows.boxTopMenu.const.hide(),de.windows.boxTopMenu.const.show(\"inside-boxMenu\"),he.time.events.add(300,(function(){he.paused=!0}),this)):(de.buttons.reset.show(),de.buttons.cheat.show(),de.buttons.levels.hide(),de.buttons.play.hide(),de.buttons.quit.hide(),de.buttons.mute.hide()),\"game-complete\"===e?de.text.show(\"center\",0,0,.6,\"Thank you for playing\",\"bold 46px Arial\",\"#ffffff\",!0,\"game-complite\"):\"game-over\"===e?de.text.show(\"center\",0,0,.6,\"Game Over!\",\"bold 46px Arial\",\"#ffffff\",!0,\"game-complite\"):\"time-over\"===e?de.text.show(\"center\",0,0,.6,\"Time Over!\",\"bold 46px Arial\",\"#ffffff\",!0,\"game-complite\"):(de.buttons.closeBoxMenu.show(),de.buttons.resume.show()),de.windows.boxTopMenu.f=!1},hide:function(){he.add.tween(this.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this),this.obj=!1,de.buttons.end.hide(),de.buttons.startFromBeginning.hide(),de.buttons.reset.hide(),de.buttons.cheat.hide(),de.buttons.resume.hide(),de.buttons.mute.hide(),de.buttons.closeBoxMenu.hide(),he.paused=!1,V.main?(ae||(de.buttons.navigations.show(),de.image.show((de.windows.boxMenu.obj,0),(de.windows.boxMenu.obj,0),\"boxTopMenu\",\"boxTopMenu\",.85,1,!1,!1,!1,!0),de.windows.boxTopMenu.const.show()),de.buttons.openBoxMenu.show(\"play-game\")):(de.buttons.openBoxMenu.show(),de.buttons.levels.show(),de.buttons.play.show(),de.buttons.quit.show(),de.buttons.mute.show(u(\"mute\")?10:9)),de.windows.boxTopMenu.f=!1}}},buttons:{openBoxMenu:{show:function(e){s(this.obj)&&this.obj.destroy(),this.obj=\"play-game\"===e?he.add.button(0,0,\"buttonPause\",(function(){de.audio.breakBones(),de.windows.boxMenu.show()}),this,0,0):he.add.button(b,b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),de.windows.boxMenu.show()}),this,2,2),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},closeBoxMenu:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(44*b,3*b,\"buttonsIcons\",(function(){de.audio.breakBones(),de.windows.boxMenu.hide()}),this,3,2),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},play:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(9*b,b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),re(\"continuation\")}),this),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},quit:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(17*b,1*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),de.windows.boxMenu.bg(),de.text.show(\"center\",0,-10,.9,\"Are you sure you want to quit the game?\",\"bold 26px Arial\",\"#ffffff\",!0,\"quit-1\"),de.buttons.yes.show(16,16,\"quit\"),de.buttons.no.show(27,16,\"quit\"),de.buttons.openBoxMenu.hide(),de.buttons.levels.hide(),de.buttons.play.hide(),de.buttons.quit.hide(),de.buttons.mute.hide()}),this,6,6),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},end:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(3*b,3*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),he.time.events.removeAll(),de.windows.boxMenu.hide(),ue(),pe(),H.name=\"level1\",H.activeIdLevel=1}),this,1,1),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},startFromBeginning:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(11*b,3*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),he.time.events.removeAll(),de.windows.boxMenu.hide(),de.mainElements.player.numberMainLifes=y,de.mainElements.player.numberLifes=h,de.mainElements.player.countBullets=g,de.mainElements.player.numberCoins=0,m(\"coins\",0),m(\"Lifes\",h),m(\"main-Lifes\",y),m(\"bullets\",g),pe(),H.activeIdLevel<M?(H.name=\"level\"+H.activeIdLevel,H.activeIdLevel=H.activeIdLevel):(H.name=\"level1\",H.activeIdLevel=1),re()}),this,3,3),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},reset:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(19*b,3*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),de.windows.boxMenu.hide(),H.name=\"level1\",H.activeIdLevel=1,de.resetGameCookies(\"all\"),pe(),de.buttons.levels.hide(),de.buttons.levels.show()}),this,4,4),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},cheat:{show:function(){s(this.obj)&&this.obj.destroy();let e=1,i=0,o=!0,n=!0;this.obj=he.add.button(3*b,7*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),i?10===i?(de.audio.magic(),m(\"unlock-levels\",9),setTimeout((function(){location.reload()}),1e3),e=1,i=0):i+=1:(clearTimeout(o),o=setTimeout((function(){e=1}),3e3),e+=1,6===e?n=setTimeout((function(){i=1}),5e3):e>6&&(e=1,clearTimeout(n)))}),this,11,11),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},resume:{show:function(){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(20*b,14*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),de.windows.boxMenu.hide(),V.main||re(\"continuation\")}),this,V.main?5:0,V.main?5:0),this.obj.scale.x=1.4,this.obj.scale.y=1.4,this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},mute:{show:function(e){s(this.obj)&&this.obj.destroy();const i=V.main?3*b:b,o=V.main?7*b:5*b;this.obj=he.add.button(i,o,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),he.paused&&(he.paused=!1,he.time.events.remove(this.t),this.t=he.time.events.add(100,(function(){he.paused=!0}),this)),this.obj.destroy(),u(\"mute\")?(de.buttons.mute.show(9),he.sound.mute=!1,c(\"mute\")):(de.buttons.mute.show(10),he.sound.mute=!0,m(\"mute\",1))}),this,e,e),this.obj.alpha=(V.main,L),this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},yes:{show:function(e,i,o){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(e*b,i*b,\"buttonsWindowMenu\",(function(){de.audio.breakBones(),\"quit\"===o&&(n()?\"object\"==typeof navigator.app?navigator.app.exitApp():\"object\"==typeof window.awebapp&&window.awebapp.closeApp():location.reload())}),this,7,7),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},no:{show:function(e,i,o){s(this.obj)&&this.obj.destroy(),this.obj=he.add.button(e*b,i*b,\"buttonsWindowMenu\",(function(){if(de.audio.breakBones(),\"quit\"===o){if(de.buttons.no.hide(),de.buttons.yes.hide(),this.obj){he.add.tween(de.windows.boxMenu.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this)}de.windows.boxMenu.obj=!1,de.text.hide(\"quit-1\"),de.buttons.openBoxMenu.show(),de.buttons.levels.show(),de.buttons.play.show(),de.buttons.quit.show(),de.buttons.mute.show(u(\"mute\")?10:9)}}),this,8,8),this.obj.alpha=L,this.obj.fixedToCamera=!0},hide:function(){s(this.obj)&&this.obj.destroy()}},navigations:{show:function(){s(this.left)&&this.left.destroy(),this.left=he.add.button(-b/2,he.height-10*b,\"buttonNavigation\",(function(){}),this,0,0),this.left.alpha=.4,this.left.scale.setTo(1.5,1.5),this.left.fixedToCamera=!0,this.left.onInputDown.add((function(){P.left.isDown=!0})),this.left.onInputUp.add((function(){P.left.isDown=!1})),s(this.right)&&this.right.destroy(),this.right=he.add.button(8*b,he.height-10*b,\"buttonNavigation\",(function(){}),this,1,1),this.right.alpha=.4,this.right.scale.setTo(1.5,1.5),this.right.fixedToCamera=!0,this.right.onInputDown.add((function(){P.right.isDown=!0})),this.right.onInputUp.add((function(){P.right.isDown=!1})),s(this.shot)&&this.shot.destroy(),this.shot=he.add.button(he.width-7*b,he.height-13*b,\"buttonNavigation\",(function(){}),this,3,3),this.shot.alpha=de.mainElements.player.countBullets?.6:0,this.shot.inputEnabled=!!de.mainElements.player.countBullets,this.shot.fixedToCamera=!0,this.shot.onInputDown.add((function(){W.isDown=!0,he.time.events.add(100,(function(){W.isDown=!1}),this)})),s(this.up)&&this.up.destroy(),this.up=he.add.button(he.width-7*b,he.height-7*b,\"buttonNavigation\",(function(){}),this,2,2),this.up.alpha=.6,this.up.fixedToCamera=!0,this.up.onInputDown.add((function(){P.up.isDown=!0})),this.up.onInputUp.add((function(){P.up.isDown=!1})),s(this.down)&&this.down.destroy(),this.down=he.add.button(he.width-13*b,he.height-7*b,\"buttonNavigation\",(function(){}),this,4,4),this.down.alpha=.6,this.down.fixedToCamera=!0,this.down.onInputDown.add((function(){P.down.isDown=!0})),this.down.onInputUp.add((function(){P.down.isDown=!1}))},hide:function(){s(this.left)&&s(this.right)&&s(this.up)&&s(this.shot)&&(this.left.destroy(),this.right.destroy(),this.up.destroy(),this.shot.destroy(),this.down.destroy())}},levels:{obj:[],text:[],text2:[],show:function(){let e=0,i=0,o=0,n=!1;for(const t in he.cache._cacheMap[7])he.cache._cacheMap[7].hasOwnProperty(t)&&(e++,this.obj.push(e),this.text.push(e),this.text2.push(e),e>9&&(i=45*b,o=5*b),n=!1,e===Object.keys(he.cache._cacheMap[7]).length&&(n=\"?\"),e<=B||n?(this.obj[e]=he.add.button(5*b*(e-1)+3*b-i,22*b+o,\"buttonLevel\",(function(){de.audio.breakBones(),H.name=\"level\"+this,H.activeIdLevel=this,de.resetGameCookies(),re()}),e,0),this.text2[e]=he.add.text(0,0,n?\"Credits\":\"(\"+(u(\"coins-procent-\"+e)?u(\"coins-procent-\"+e):0)+\"%)\",{font:\"12px Arial\",fill:\"#ffffff\",boundsAlignH:\"center\",boundsAlignV:\"middle\"}),this.text2[e].setTextBounds(0,0,4*b,7*b),this.obj[e].addChild(this.text2[e])):this.obj[e]=he.add.button(5*b*(e-1)+3*b-i,22*b+o,\"buttonLevel\",(function(){}),e,1,1),this.text[e]=he.add.text(0,0,n||e,{font:\"24px Arial\",fill:\"#ffffff\",boundsAlignH:\"center\",boundsAlignV:\"middle\"}),this.text[e].setTextBounds(0,0,4*b,4.5*b),this.obj[e].alpha=.8,this.obj[e].addChild(this.text[e]),this.obj[e].fixedToCamera=!0);M=e},hide:function(){for(let e=1,i=this.obj.length;e<i;e++)this.obj[e].destroy();this.obj=[],this.text=[],this.text2=[]}}},text:{obj:[],show:function(e,i,o,n,t,a,l,s,d,r){this.obj[d]&&this.obj[d].destroy(),this.obj.push(d),\"center\"===e?(this.obj[d]=he.add.text(i,o,t,{font:a,fill:l,boundsAlignH:\"center\",boundsAlignV:\"middle\"}),this.obj[d].setTextBounds(i,o,he.width,he.height)):this.obj[d]=he.add.text(i,o,t,{font:a,fill:l}),this.obj[d].alpha=n,this.obj[d].fixedToCamera=s,r&&this.obj[d].setShadow(1,-1,\"rgba(0,0,0,1)\",0),\"add-point\"===e&&(he.add.tween(this.obj[d]).to({y:o-48},900,Phaser.Easing.Linear.None,!0),he.time.events.add(600,(function(){he.add.tween(this.obj[d]).to({alpha:0},300,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this)}),this))},hide:function(e){this.obj[e]&&this.obj[e].destroy()}},image:{obj:[],show:function(e,i,o,n,t,a,l,s,d,r){this.obj[n]&&this.obj[n].destroy(),this.obj.push(n),this.obj[n]=\"boxTopMenu\"===o?he.add.tileSprite(e,i,he.scale.maxWidth,48,o):he.add.image(e,i,o),t&&(this.obj[n].alpha=t),a&&(this.obj[n].fixedToCamera=a),l&&s&&this.obj[n].scale.setTo(l,s),d&&(this.obj[n].frame=d),r&&(this.obj[n].alpha=0,he.add.tween(this.obj[n]).to({alpha:t||1},200,Phaser.Easing.Linear.None,!0))},hide:function(e,i){if(this.obj[e])if(i){he.add.tween(this.obj[e]).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this)}else this.obj[e].destroy()}},createCenterObject:function(e,i,o,n,t){let a=he.cache.getImage(n).width,l=he.cache.getImage(n).height;return\"sprite\"===t&&(a=he.cache._cache.image[n].frameWidth,l=he.cache._cache.image[n].frameHeight),e.create(i*b+2*b-(a/2+b+b/2),o*b-(l-2*b),n)},createLeftObject:function(e,i,o,n,t){let a=he.cache.getImage(n).height;return\"sprite\"==t&&(a=he.cache._cache.image[n].frameHeight),e.create(i*b,o*b-(a-2*b),n)},checkSpecialBlankBlockElementAndElevatorSound:function(e,i){i&&(0!==i.deltaY||0!==i.deltaX)&&de.audio.elevator(.1),101===e.index&&(e.collideDown=!0,e.collideUp=!0,e.collideLeft=!0,e.collideRight=!0)},jumpCollision:function(e,i){let o=0;he.time.now>o&&(e.body.velocity.y=-i,o=he.time.now+i)},mainElements:{player:{detectionHoldOnObject:function(e,i){return this.obj.position.x>e.position.x-he.width/i&&this.obj.position.x<e.position.x+he.width/i&&this.obj.position.y>e.position.y-he.height/i&&this.obj.position.y<e.position.y+he.height/i},detectionHoldOnTile:function(e,i,o){return this.obj.position.x>e*b-he.width/o&&this.obj.position.x<e*b+he.width/o&&this.obj.position.y>i*b-he.height/o&&this.obj.position.y<i*b+he.height/o},countLifes:function(){u(\"Lifes\")?de.mainElements.player.numberLifes=parseInt(u(\"Lifes\")):de.mainElements.player.numberLifes=h,u(\"main-Lifes\")?de.mainElements.player.numberMainLifes=parseInt(u(\"main-Lifes\")):de.mainElements.player.numberMainLifes=y},countCoins:function(){u(\"coins\")?de.mainElements.player.numberCoins=parseInt(u(\"coins\")):de.mainElements.player.numberCoins=0,u(\"coins-procent-\"+H.activeIdLevel)>0?de.mainElements.player.numberCoinsLevelProcentLastMemory=u(\"coins-procent-\"+H.activeIdLevel):de.mainElements.player.numberCoinsLevelProcentLastMemory=0,de.mainElements.player.numberCoinsLevel=0,de.mainElements.player.numberCoinsLevelProcent=0,de.mainElements.logs.lengthBonusCoins=0},removeKeepStone:function(){de.mainElements.stoneBigS.keepStone&&(de.mainElements.stoneBigS.keepStone=!1,le=1!==de.mainElements.player.obj.scale.y?300:200,de.mainElements.stoneBigS.obj.forEach((function(e){e.keepStone=!1}),this))},lostLife:function(e,i){de.mainElements.player.removeKeepStone(),e.holdLostLife||(e.holdLostLife=!0,!H.blockedKeys&&de.mainElements.player.numberLifes>0&&(de.mainElements.player.numberLifes-=i||1,de.audio.scream(),e.scale.y>1&&this.scale(\"restart\")),de.mainElements.player.numberLifes<1&&(H.blockedKeys||de.mainElements.player.gameOver||(he.camera.shake(.02,450,!0,Phaser.Camera.SHAKE_VERTICAL),de.audio.quake(1),H.blockedKeys=!0,de.mainElements.player.numberLifes=0,de.mainElements.player.gun.obj&&(de.mainElements.player.gun.obj.destroy(),de.mainElements.player.gun.obj=!1),de.mainElements.player.obj.animations.play(\"kill-right\"),de.mainElements.player.numberMainLifes--),0===de.mainElements.player.numberMainLifes?(de.mainElements.player.gameOver=!0,he.time.events.add(1500,(function(){de.windows.boxMenu.show(\"game-over\")}),this)):he.time.events.add(1200,(function(){de.mainElements.player.numberLifes=h,de.windows.boxTopMenu.f=!1,he.time.events.add(1e3,(function(){H.blockedKeys=!1,U=\"idle\"}),this)}),this)),he.time.events.remove(e.timeoutKill),e.timeoutKill=he.time.events.add(800,(function(){e.holdLostLife=!1,e.alpha=1,he.time.events.remove(e.fltTime)}),this),e.fltTime=he.time.events.loop(50,(function(){e.alpha=.4===e.alpha?1:.4}),this)),de.windows.boxTopMenu.f=!1},checkIfWasKilledAndOther:function(e,i){ae||(e.touchGround&&(he.time.events.remove(e.touchGroundTime),e.touchGround=!1),\"kladki-poziom\"===i&&(e.onGround=!0),e.t1=!0,e.onGround||(de.audio.footStep(),e.onGround=!0),(P.left.isDown||P.right.isDown)&&de.audio.footStep(),!ie||de.mainElements.player.obj.body.blocked.left||de.mainElements.player.obj.body.blocked.right||(de.mainElements.player.obj.body.y-oe>250&&(he.camera.shake(.02,250,!0,Phaser.Camera.SHAKE_VERTICAL),de.audio.quake(1)),\"water\"!==i&&de.mainElements.player.obj.body.y-oe>400&&de.mainElements.player.lostLife(e,3),ie=!1))},gun:{obj:!1,startGun:!1,bullets:{obj:!1,restartBullets:function(){!0===this.obj&&(this.obj.z=0,this.obj.destroy(!0)),this.obj=he.add.group(),this.obj.enableBody=!0,this.obj.createMultiple(9,\"bullet\"),this.obj.setAll(\"anchor.x\",.5),this.obj.setAll(\"anchor.y\",1)}},visualGun:function(e){this.obj&&(1!==e.obj.scale.y?(this.obj.scale.y=1.2,this.obj.tint=16776960):(this.obj.scale.y=1,this.obj.tint=16777215),e.obj.frame>=6&&e.obj.frame<=11?(this.obj.scale.x=-1,this.obj.reset(e.obj.x+37,e.obj.y+33)):P.left.isDown?(this.obj.scale.x=-1,this.obj.reset(e.obj.x+33,e.obj.y+33)):e.obj.frame>=0&&e.obj.frame<=5?(this.obj.scale.x=1,this.obj.reset(e.obj.x+11,e.obj.y+33)):P.right.isDown&&(this.obj.scale.x=1,this.obj.reset(e.obj.x+15,e.obj.y+33)))},shot:function(e){W.isDown&&de.mainElements.player.numberLifes&&!H.blockedKeys&&e.countBullets>0&&he.time.now>e.bulletTime&&(e.bullet=e.gun.bullets.obj.getFirstExists(!1),e.bullet?(e.countBulletsF=!0,e.countBullets--,de.windows.boxTopMenu.f=!1,de.audio.shoot(),he.time.events.remove(e.gun.startGun),e.gun.obj||(e.gun.obj=he.add.image(e.obj.x,e.obj.y,\"gun\")),e.bullet.body.gravity.y=-700,e.gun.startGun=he.time.events.add(1e3,(function(){e.gun.obj&&(e.gun.obj.destroy(),e.gun.obj=!1,he.time.events.remove(e.gun.startGun))}),this),e.obj.frame>=6&&e.obj.frame<=11||P.left.isDown?(e.bullet.reset(e.obj.x+10,e.obj.y+42),e.bullet.body.velocity.x=-1400,e.bullet.direction=\"left\"):(e.obj.frame>=0&&e.obj.frame<=5||P.right.isDown)&&(e.bullet.reset(e.obj.x+30,e.obj.y+42),e.bullet.body.velocity.x=1400,e.bullet.direction=\"right\"),e.bulletTime=he.time.now+200):(e.bullet=0,e.gun.bullets.restartBullets()))}},bullet:!1,bulletTime:0,countBulletsF:!1,countBullets:6,jumpTimer:0,obj:!1,add:function(e,i){0==this.obj&&(this.obj=he.add.sprite(e*b,i*b-4*b,\"dude\"),he.physics.enable(this.obj,Phaser.Physics.ARCADE),this.obj.body.bounce.y=.3,this.obj.body.collideWorldBounds=!0,this.obj.animations.add(\"idle-right\",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add(\"idle-right\",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add(\"idle-left\",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),this.obj.animations.add(\"end-level\",[38,37,36,37,38],10,!0),this.obj.animations.add(\"jump-right\",[25],20,!0),this.obj.animations.add(\"jump-left\",[26],20,!0),this.obj.animations.add(\"kill-right\",[28,29,30,31,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32],16,!1).onComplete.add((function(){de.mainElements.player.generateAgain=!0}),this),this.obj.animations.add(\"left\",[18,19,20,21,22,23],20,!0),this.obj.animations.add(\"right\",[12,13,14,15,16,17],20,!0),he.camera.follow(this.obj,Phaser.Camera.FOLLOW_LOCKON,.1,.1),this.gun.bullets.restartBullets(),u(\"bullets\")?this.countBullets=parseInt(u(\"bullets\")):this.countBullets=g,this.gun.obj=!1,$=e*b,ee=i*b)},velocityNormal:j,velocityWater:x,velocityStone:w,scale:function(e){\"increase\"===e?(this.obj.scale.setTo(1,f),le=300,this.obj.tint=16776960):(\"restart\"===e&&de.audio.scaleDown(),le=200,this.obj.scale.setTo(1,1),this.obj.tint=16777215);const i=1!==de.mainElements.player.obj.scale.y;this.velocityNormal=i?v:j,this.velocityWater=i?E:x,this.velocityStone=i?k:w}},intruders:{obj:!0,id:0,add:function(e,i,o){const n=this.obj.create(e*b,i*b-2*b,\"intruder\"+o);n.scale.setTo(0,0),6===o?he.add.tween(n.scale).to({x:1.18,y:1.23},400,Phaser.Easing.Linear.None,!0):he.add.tween(n.scale).to({x:1,y:1},400,Phaser.Easing.Linear.None,!0),n.type=o,n.wspStartX=e,n.wspStartY=i,he.physics.enable(n,Phaser.Physics.ARCADE),n.body.bounce.y=.4,n.body.collideWorldBounds=!0,n.randomSpeed=r([90,110,130]),4===o?(n.animations.add(\"left\",[14,15,16,17,18,19,20,21,22,23,24,25,26,27],n.randomSpeed/8,!0),n.animations.add(\"right\",[0,1,2,3,4,5,6,7,8,9,10,11,12,13],n.randomSpeed/8,!0),n.animations.add(\"idle-right\",[6],6,!0),n.animations.add(\"idle-left\",[20],6,!0),n.animations.add(\"kill\",[28,29,30,31,32,33,34,35],15,!1),n.animations.add(\"turn-left\",[40,37],5,!1),n.animations.add(\"turn-right\",[41,37],5,!1)):5===o||7===o?(n.animations.add(\"left\",[14,15,16,17,18,21,22,23,24,25],n.randomSpeed/8,!0),n.animations.add(\"right\",[0,1,2,3,4,7,8,9,10,11],n.randomSpeed/8,!0),n.animations.add(\"idle-right\",[6],6,!0),n.animations.add(\"idle-left\",[20],6,!0),n.animations.add(\"kill\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),n.animations.add(\"turn-left\",[40,37],5,!1),n.animations.add(\"turn-right\",[41,37],5,!1)):(n.animations.add(\"left\",[18,19,20,21,22,23],n.randomSpeed/8,!0),n.animations.add(\"right\",[12,13,14,15,16,17],n.randomSpeed/8,!0),n.animations.add(\"idle-right\",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),n.animations.add(\"idle-left\",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),n.animations.add(\"kill\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),n.randomMove=parseInt(2*Math.random())?\"intruzRight\":\"intruzLeft\"},jump:function(e,i){let o=0;e.body.onFloor()&&he.time.now>o&&(e.body.velocity.y=-i,o=he.time.now+i,5!==e.type&&7!==e.type||(e.jumpToFly=!0,he.time.events.add(300,(function(){e.jumpToFly=!1}),this)))},collisionIntruz:function(e,i){\"intruzRight\"===e.randomMove||\"intruzLeft\"===e.randomMove?e.saveRandom=e.randomMove:e.saveRandom=\"intruzRight\";const o=he.time.events.loop(1e3/60,(function(){a(Math.ceil(he.time.now/100))&&(e.body.velocity.y=-30),\"total-kill\"!==i&&(4===e.type&&(\"intruzRight\"==e.randomMove?e.frame=38:\"intruzLeft\"==e.randomMove&&(e.frame=39)),\"intruzRight\"!=e.randomMove&&\"intruzLeft\"!=e.randomMove||(e.randomMove=\"intruzStop\",de.mainElements.player.obj.body.velocity.y=-T))}),this);\"total-kill\"===i?(de.audio.breakBones(.5),de.audio.explosionIntruder(),4===e.type?(e.animations.add(\"left\",[28,29,30,31,32,33,34,35],15,!1),e.animations.add(\"right\",[28,29,30,31,32,33,34,35],15,!1)):5===e.type||7===e.type?(e.animations.add(\"left\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),e.animations.add(\"right\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1)):(e.animations.add(\"left\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1),e.animations.add(\"right\",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),e.randomSpeed=0,he.time.events.add(500,(function(){e.killed=!1,he.time.events.remove(o),e.randomMove=\"intruzDelete\"}),this)):he.time.events.add(100,(function(){he.time.events.remove(o),e.randomMove=e.saveRandom}),this),de.mainElements.player.obj.body.overlapY=0},collisionBack:function(e){e.checkPosition||(e.checkPosition=e.body.position.x,he.time.events.add(600,(function(){Math.abs(e.checkPosition-e.body.position.x)<2&&(\"intruzRight\"===e.randomMove?e.randomMove=\"intruzLeft\":e.randomMove=\"intruzRight\"),e.checkPosition=!1}),this))}},coins:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"coin\");o.animations.add(\"run\",[0,1,2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0]),o.animations.play(\"run\",18,!0),o.body.allowGravity=!1}},invisibleLogs:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"log\");o.frame=11,he.physics.enable(o,Phaser.Physics.ARCADE),o.scale.setTo(3,1),o.body.allowGravity=!1,o.body.collideWorldBounds=!0,o.body.immovable=!0}},logs:{lengthBonusCoins:0,add:function(e,i,o,n,t){const a=this.obj.create(e*b,i*b,n);if(a.frame=0,he.physics.enable(a,Phaser.Physics.ARCADE),a.body.allowGravity=!1,a.body.collideWorldBounds=!0,a.body.immovable=!0,o&&de.audio.bingo(),\"coin\"===o)a.coin=!0;else if(\"surprise\"===o)if(\"log\"===n){switch(d(1,4)){case 1:a.surprise=1;break;case 2:a.surprise=2;break;case 3:a.surprise=3;break;case 4:a.surprise=5}}else if(\"stone\"===n){switch(d(1,2)){case 1:a.surprise=1;break;case 2:a.surprise=2}}},destruction:function(e){if(!e.onlynOne){const i=e.x/b,o=e.y/b-3;e.body.velocity.y=-330,\"left\"===U?e.body.velocity.x=-130:\"right\"===U&&(e.body.velocity.x=130),de.audio.breakGround(),e.body.checkCollision.up=!1,e.body.checkCollision.down=!1,e.body.checkCollision.left=!1,e.body.checkCollision.right=!1,he.time.events.add(50,(function(){e.body.allowGravity=!0}),this),e.animations.add(\"run\"),he.time.events.add(300,(function(){e.animations.play(\"run\",20,!1)}),this),e.coin?he.time.events.add(200,(function(){de.mainElements.coins.add(i,o)}),this):e.surprise&&he.time.events.add(200,(function(){switch(e.surprise){case 1:de.mainElements.bulletsGuns.add(i,o);break;case 2:de.mainElements.LifeSingleS.add(i,o);break;case 3:de.mainElements.intruders.add(i,o,3);break;case 4:de.mainElements.coins.add(i,o);break;case 5:de.mainElements.intruders.add(i,o,5)}}),this),he.time.events.add(900,(function(){e.kill()}),this),e.onlynOne=!0}}},Lifes:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"Life\");o.animations.add(\"run\",[2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1]),o.animations.play(\"run\",18,!0),o.body.allowGravity=!1}},LifeSingleS:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"Life2\");o.animations.add(\"run\",[4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1,2,3]),o.animations.play(\"run\",18,!0),o.body.allowGravity=!1}},bulletsGuns:{add:function(e,i){const o=this.obj.create(e*b-5,i*b-5,\"bullets_gun\");o.animations.add(\"run\",[8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6,7,8]),o.animations.play(\"run\",18,!0),o.body.allowGravity=!1}},keys:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"key\");o.animations.add(\"run\",[7,8,8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6]),o.animations.play(\"run\",18,!0),o.body.allowGravity=!1}},locks:{add:function(e,i,o){const n=this.obj.create(e*b+(o?b:0),i*b,\"lock\");o&&(n.scale.x*=-1),n.body.allowGravity=!1}},doors:{add:function(e,i,o){const n=de.createCenterObject(this.obj,e,i,\"door\");he.physics.enable(n,Phaser.Physics.ARCADE),n.body.allowGravity=!1,n.body.collideWorldBounds=!0,n.body.immovable=!0,o&&(n.zero=!0,n.body.checkCollision.none=!0,n.scale.setTo(0,0))}},doorsHorizontal:{add:function(e,i,o){const n=de.createCenterObject(this.obj,e,i,\"door-horizontal\");he.physics.enable(n,Phaser.Physics.ARCADE),n.body.allowGravity=!1,n.body.collideWorldBounds=!0,n.body.immovable=!0,o&&(n.zero=!0,n.body.checkCollision.none=!0,n.scale.setTo(0,0))}},openDoor:function(e){let i=0;de.mainElements.doorsHorizontal.obj.forEach((function(e){e.index=i,i++}),this);let o=0;de.mainElements.doors.obj.forEach((function(e){e.index=o,o++}),this);const n=[];de.mainElements.doors.obj.forEach((function(i){n.push(he.physics.arcade.distanceBetween(e,i))}),this);const t=Math.min.apply(null,n),a=[];de.mainElements.doorsHorizontal.obj.forEach((function(i){a.push(he.physics.arcade.distanceBetween(e,i))}),this);const l=Math.min.apply(null,a);de.mainElements.doors.obj.forEach((function(i){if(s(i)&&!i.deactive&&t===he.physics.arcade.distanceBetween(e,i)&&s(i)&&!i.deactive&&!i.zero){i.deactive=!0,i.body.velocity.y=-50,de.audio.doorLift();const e=Math.ceil(i.y/b),o=he.time.events.loop(100,(function(){Math.ceil(i.y/b)<=e-10&&(i.body.velocity.y=0,he.time.events.remove(o))}),this)}}),this),de.mainElements.doorsHorizontal.obj.forEach((function(i){l===he.physics.arcade.distanceBetween(e,i)&&s(i)&&!i.deactive&&(i.zero||(i.deactive=!0,de.mainElements.explosion.add(i.x/b,i.y/b),i.kill()))}),this)},cacti:{add:function(e,i){de.createCenterObject(this.obj,e,i,\"cactus\").body.allowGravity=!1}},grassLeft:{add:function(e,i){de.createLeftObject(this.obj,e,i,\"grassLr\").body.allowGravity=!1}},grassAnim:{add:function(e,i,o){const n=de.createCenterObject(this.obj,e,i,\"grass-lr-anim\",\"sprite\");n.animations.add(\"run\",[0,1,2,3,4,5,5,4,3,2,1,0]),n.animations.play(\"run\",8,!0),\"right\"===o&&(n.scale.x*=-1,n.anchor.setTo(1,0)),n.body.allowGravity=!1}},trees:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i,\"tree\",\"sprite\");o.animations.add(\"run\"),o.animations.play(\"run\",8,!0),o.body.allowGravity=!1}},cactusAnimateS:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i,\"cactus-animate\",\"sprite\");o.animations.add(\"run\",[0,1,2,3,4,3,2,1,0]),o.animations.play(\"run\",10,!0),o.body.allowGravity=!1,o.body.width=39,o.body.height=70,o.body.offset.y=11,o.body.offset.x=11}},grassRight:{add:function(e,i){const o=de.createLeftObject(this.obj,e,i,\"grassLr\");o.body.allowGravity=!1,o.scale.x*=-1}},explosion:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i-1,\"explosion\",\"sprite\");o.animations.add(\"run\").onComplete.add((function(e){e.kill()}),this),o.animations.play(\"run\",16,!1),o.body.allowGravity=!1,de.audio.explosion(.5)}},stoneBigExplosion:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i+1,\"stone-big-explosion\",\"sprite\");o.animations.add(\"run\").onComplete.add((function(e){e.kill()}),this),o.animations.play(\"run\",40,!1),o.body.allowGravity=!1}},stoneBigS:{add:function(e,i){const o=de.createLeftObject(this.obj,e,i,\"stone-big\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.allowGravity=!0,o.body.height=40,o.body.width=40,o.anchor.setTo(.5,.5),o.angle=d(0,180)}},caves:{add:function(e,i){this.obj.create(e*b+2*b,i*b-240,\"cave\").body.allowGravity=!1}},fogSingleS:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i,\"fog-single\",\"sprite\");o.animations.add(\"run\"),o.animations.play(\"run\",9,!0),o.alpha=.8,o.body.allowGravity=!1}},buildings:{add:function(e,i,o){de.createCenterObject(this.obj,e,i,o).body.allowGravity=!1}},blackboards:{add:function(e,i,o){de.createCenterObject(this.obj,e,i,o).body.allowGravity=!1}},mines:{add:function(e,i){const o=de.createCenterObject(this.obj,e+6.5,i,\"mine-part-2\",\"sprite\");o.animations.add(\"run\",[0,1,2,3,4,5,4,3,2,1,0,6,7,8,9,10,9,8,7,6]),o.animations.play(\"run\",12,!0),o.body.allowGravity=!1;de.createCenterObject(this.obj,e-.2,i,\"mine-part-1\").body.allowGravity=!1}},waters:{add:function(e,i,o){const n=de.createLeftObject(this.obj,e,i,o||\"water\",\"sprite\");n.animations.add(\"run\"),n.animations.play(\"run\",16,!0),n.body.allowGravity=!1,n.alpha=.7,\"water-red\"===o&&(n.type=\"water-red\")}},waterStaticS:{add:function(e,i,o,n){let t;t=\"center\"===n?de.createCenterObject(this.obj,e,i,o||\"water\",\"sprite\"):de.createLeftObject(this.obj,e,i,o||\"water\",\"sprite\"),t.body.allowGravity=!1,t.alpha=.7,\"water-red\"===o&&(t.type=\"water-red\")}},firebs:{add:function(e,i,o,n){const t=de.createLeftObject(this.obj,e,i,n?\"fireb2\":\"fireb\",\"sprite\");n?t.typeFire=!0:(t.animations.add(\"run1\",[0,1,2,1]),t.animations.add(\"run2\",[3,4,5,4])),t.body.allowGravity=!1,t.alpha=0,t.randomStart=o}},splashs:{add:function(e,i,o,n){const t=de.createCenterObject(this.obj,e,i,o||\"splash\",\"sprite\");t.animations.add(\"run\").onComplete.add((function(e){e.kill()}),this),t.animations.play(\"run\",30,!1),t.body.allowGravity=!1,t.alpha=.6,\"blood\"===n?(t.position.y=t.position.y-2*b,t.position.x=t.position.x+b,t.scale.setTo(.8,.8),t.alpha=.9):de.audio.splash()}},endLevelS:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i,\"end_level\",\"sprite\");o.animations.add(\"run\"),o.animations.play(\"run\",17,!0),o.body.allowGravity=!1}},saveLevelS:{add:function(e,i,o){const n=de.createCenterObject(this.obj,e,i,\"save_level\",\"sprite\");let t,a;\"<-\"===o?(t=[26,25,24,23,22,22,23,24,25,26,26,21,20,19,18,18,19,20,21,26],a=[35,34,33,32,31,31,32,33,34,35,35,30,29,28,27,27,28,29,30,35]):(t=[0,1,2,3,4,4,3,2,1,0,0,5,6,7,8,8,7,6,5,0],a=[9,10,11,12,13,13,12,11,10,9,9,14,15,16,17,17,16,15,14,9]),n.animations.add(\"run1\",t),n.animations.add(\"run2\",a),n.animations.play(\"run1\",17,!0),n.body.allowGravity=!1}},fire:{fireAnimation:function(e,i,o,n){const t=e.obj.create(i,o,n);t.animations.add(\"run\"),t.animations.play(\"run\",d(16,20),!0),t.alpha=.8,t.body.allowGravity=!1},fireUpS:{add:function(e,i){de.mainElements.fire.fireAnimation(this,e*b-4,i*b-8,\"fire_up\")}},fireUpNormalS:{add:function(e,i){de.mainElements.fire.fireAnimation(this,e*b-4,i*b-1.5*b,\"fire_up_normal\")}},fireDownS:{add:function(e,i){de.mainElements.fire.fireAnimation(this,e*b-4,i*b,\"fire_down\")}},fireLeftS:{add:function(e,i){de.mainElements.fire.fireAnimation(this,e*b-8,i*b-4,\"fire_left\")}},fireRightS:{add:function(e,i){de.mainElements.fire.fireAnimation(this,e*b,i*b-4,\"fire_right\")}}},windmills:{add:function(e,i){const o=de.createCenterObject(this.obj,e,i,\"windmill\",\"sprite\");o.animations.add(\"run\"),o.animations.play(\"run\",20,!0),o.body.allowGravity=!1}},windmillNewS:{add:function(e,i){de.createCenterObject(this.obj2,e,i,\"windmill_2_new\").body.allowGravity=!1;const o=this.obj1.create(e*b+9,i*b-240,\"windmill_1_new\");o.anchor.setTo(.5,.5),o.body.allowGravity=!1}},kladki:{kladkaPlayerBounceReset:!0,poziom:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"kladka-short\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0}},run:{startCollision:function(e,i){e.lock||(e.back?\"pionTopBack\"===i||\"pionTop\"===i?e.body.velocity.y=-150:\"pionBottomBack\"!==i&&\"pionBottom\"!==i||(e.body.velocity.y=150):\"pionTopBack\"===i||\"pionTop\"===i?e.body.velocity.y=150:\"pionBottomBack\"!==i&&\"pionBottom\"!==i||(e.body.velocity.y=-150)),e.isUp=!0,de.mainElements.player.obj.body.bounce.y=0,he.time.events.add(300,(function(){e.isUp=!1}),this)},endCollision:function(e,i){e.lock=!0,he.time.events.remove(e.resetart1),e.resetart1=he.time.events.add(2500,(function(){\"pionTopBack\"===i?e.back||(e.body.velocity.y=-150):\"pionBottomBack\"===i&&(e.back||(e.body.velocity.y=150)),e.back=!e.back,e.lock=!1}),this)}},pionTopBack:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"kladka-short\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionBottomBack:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"kladka-short\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionTop:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"kladka-short\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionBottom:{add:function(e,i){const o=this.obj.create(e*b,i*b,\"kladka-short\");he.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}}}},intruzCollisonBack:function(e){let i=0;e.body.onFloor()&&he.time.now>i&&(e.body.velocity.y=-350,i=he.time.now+350),0!==i&&(\"intruzLeft\"==e.randomMove?e.randomMove=\"intruzRight\":\"intruzRight\"==e.randomMove&&(e.randomMove=\"intruzLeft\"))},intruzCollisonNoBack:function(e){let i=0;e.body.onFloor()&&he.time.now>i&&(e.body.velocity.y=-350,i=he.time.now+350)},addPoint:function(e,i,o,n){de.text.show(\"add-point\",e,i,1,n,\"700 15px Arial\",\"#ded4b8\",!1,o,!0)}},re=(e,i,o)=>{H.readyLoad=!1,H.blockedKeys=!1,\"continuation\"===e&&(H.name=\"level\"+B,H.activeIdLevel=parseInt(B)),he.physics.startSystem(Phaser.Physics.ARCADE),ae=!1,Object.keys(he.cache._cacheMap[7]).length===H.activeIdLevel&&(ae=!0),de.preloader.add(13,14,i,o),F=he.time.create(!1),Q=0,F.loop(1e3,(function(){H.blockedKeys||Q++}),void 0),F.start(),he.time.advancedTiming=!0,he.time.desiredFps=window.innerWidth<800?40:50,de.mainElements.player.removeKeepStone(),q=[],te=0,de.buttons.levels.hide(),de.text.hide(\"logoText\"),C.destroy(),de.buttons.openBoxMenu.hide(),de.mainElements.player.countLifes(),de.mainElements.player.countCoins();let n=300;ae&&(n=i?2e3:0),he.time.events.add(n,(function(){if(S=he.add.tilemap(H.name),S.addTilesetImage(\"tiles-1\"),H.blockedKeys=!1,S.setCollisionByExclusion([102,155,205,206,207,201,202,203,301,302,303,304,305,306,401,402,403,404,405,406,407,416,417,451,452,453,454,455,456,457,459,552,651,652,653,654,655,656,657,658,659,660,661,662,701,702,703,704,705,706,707,708,751,752,753,754,755,756,757,758,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,851,852,853,854,855,856,901,902,903,904,905,906,209,210,211,212,259,260,261,262,309,310,311,312,1013,1014,1015,1668,1619,1601,1651,1712,1762,1812,1813,1863,1915,1957,1965,2016,2067,2018,2169,2220,2221,2271,2322,2323,2373,2374,2375,2376]),p[H.activeIdLevel].backgroundColor?H.backgroundColor=p[H.activeIdLevel].backgroundColor:H.backgroundColor=\"#4488AA\",de.bgSet(H.backgroundColor),p[H.activeIdLevel].background){let e=!1;Object.keys(he.cache._cacheMap[7]).length===H.activeIdLevel&&(e=!0),H.backgroundLevel=p[H.activeIdLevel].background,z=p[H.activeIdLevel].backgroundRepeatX?he.add.tileSprite(0,e?0:he.height-he.cache.getImage(H.backgroundLevel).height,2*S.widthInPixels,he.cache.getImage(H.backgroundLevel).height,H.backgroundLevel):he.add.sprite(0,e?0:he.height-he.cache.getImage(H.backgroundLevel).height,H.backgroundLevel),z.fixedToCamera=!e,p[H.activeIdLevel].backgroundSecond&&(_=he.add.sprite(0,he.height-he.cache.getImage(p[H.activeIdLevel].backgroundSecond).height,p[H.activeIdLevel].backgroundSecond),_.width=he.cache.getImage(p[H.activeIdLevel].backgroundSecond).width,_.height=he.cache.getImage(p[H.activeIdLevel].backgroundSecond).height,_.fixedToCamera=!0),p[H.activeIdLevel].parallax?H.backgroundParallax=!0:H.backgroundParallax=!1}else H.backgroundLevel=\"none\";if(p[H.activeIdLevel].fog){const e=4*b,i=25/(b/10),o=p[H.activeIdLevel].fogPositionY?p[H.activeIdLevel].fogPositionY:0;D=he.add.tileSprite(-S.width*b,(S.height-i)*b-e-o,2*S.width*b,i*b,p[H.activeIdLevel].fog)}if(p[H.activeIdLevel].positionGround){let e=6*b;Number.isInteger(p[H.activeIdLevel].positionGround)&&(e=p[H.activeIdLevel].positionGround),R=he.add.tileSprite(-S.width*b,S.height*b-e-1,2*S.width*b,S.height*b,\"ground\")}he.physics.arcade.gravity.y=750,P=he.input.keyboard.createCursorKeys(),G=he.input.keyboard.addKey(Phaser.Keyboard.UP),W=he.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),A=S.createLayer(\"levels-deep\"),A.resizeWorld(),de.mainElements.caves.obj=he.add.group(),de.mainElements.caves.obj.enableBody=!0,de.mainElements.buildings.obj=he.add.group(),de.mainElements.buildings.obj.enableBody=!0,de.mainElements.blackboards.obj=he.add.group(),de.mainElements.blackboards.obj.enableBody=!0,de.mainElements.mines.obj=he.add.group(),de.mainElements.mines.obj.enableBody=!0,de.mainElements.cactusAnimateS.obj=he.add.group(),de.mainElements.cactusAnimateS.obj.enableBody=!0,de.mainElements.grassLeft.obj=he.add.group(),de.mainElements.grassLeft.obj.enableBody=!0,de.mainElements.grassRight.obj=he.add.group(),de.mainElements.grassRight.obj.enableBody=!0,de.mainElements.grassAnim.obj=he.add.group(),de.mainElements.grassAnim.obj.enableBody=!0,de.mainElements.trees.obj=he.add.group(),de.mainElements.trees.obj.enableBody=!0,de.mainElements.keys.obj=he.add.group(),de.mainElements.keys.obj.enableBody=!0,de.mainElements.locks.obj=he.add.group(),de.mainElements.locks.obj.enableBody=!0,de.mainElements.doors.obj=he.add.group(),de.mainElements.doors.obj.enableBody=!0,de.mainElements.doorsHorizontal.obj=he.add.group(),de.mainElements.doorsHorizontal.obj.enableBody=!0,de.mainElements.fire.fireUpS.obj=he.add.group(),de.mainElements.fire.fireUpS.obj.enableBody=!0,de.mainElements.fire.fireUpNormalS.obj=he.add.group(),de.mainElements.fire.fireUpNormalS.obj.enableBody=!0,de.mainElements.fire.fireDownS.obj=he.add.group(),de.mainElements.fire.fireDownS.obj.enableBody=!0,de.mainElements.fire.fireLeftS.obj=he.add.group(),de.mainElements.fire.fireLeftS.obj.enableBody=!0,de.mainElements.fire.fireRightS.obj=he.add.group(),de.mainElements.fire.fireRightS.obj.enableBody=!0,de.mainElements.windmills.obj=he.add.group(),de.mainElements.windmills.obj.enableBody=!0,de.mainElements.windmillNewS.obj2=he.add.group(),de.mainElements.windmillNewS.obj2.enableBody=!0,de.mainElements.windmillNewS.obj1=he.add.group(),de.mainElements.windmillNewS.obj1.enableBody=!0,de.mainElements.bulletsGuns.obj=he.add.group(),de.mainElements.bulletsGuns.obj.enableBody=!0,de.mainElements.player.obj=!1,O=S.createLayer(\"levels-objects\"),O.resizeWorld(),de.mainElements.stoneBigS.obj=he.add.group(),de.mainElements.stoneBigS.obj.enableBody=!0,I=S.createLayer(\"levels-main\"),I.resizeWorld(),de.mainElements.explosion.obj=he.add.group(),de.mainElements.explosion.obj.enableBody=!0,de.mainElements.stoneBigExplosion.obj=he.add.group(),de.mainElements.stoneBigExplosion.obj.enableBody=!0,S.objects[\"just-objects\"]&&S.objects[\"just-objects\"].forEach((function(e){461===e.gid&&de.mainElements.grassAnim.add(e.x/b,e.y/b),462===e.gid&&de.mainElements.grassAnim.add(e.x/b,e.y/b,\"right\"),13===e.gid&&de.mainElements.stoneBigS.add(e.x/b,e.y/b),111===e.gid&&de.mainElements.fire.fireUpS.add(e.x/b,e.y/b),117===e.gid&&de.mainElements.fire.fireUpNormalS.add(e.x/b,e.y/b),110===e.gid&&de.mainElements.fire.fireDownS.add(e.x/b,e.y/b),109===e.gid&&de.mainElements.fire.fireLeftS.add(e.x/b,e.y/b),112===e.gid&&de.mainElements.fire.fireRightS.add(e.x/b,e.y/b)}));for(let e=0;e<S.width;e++)for(let i=0;i<S.height;i++)51==S.getTile(e,i,I,!0).index&&(S.removeTile(e,i,I),S.putTile(101,e,i,I)),1==S.getTile(e,i,O,!0).index&&(de.mainElements.caves.add(e,i),S.removeTile(e,i,O)),522==S.getTile(e,i,O,!0).index&&(de.mainElements.trees.add(e,i),S.removeTile(e,i,O)),52==S.getTile(e,i,O,!0).index&&(de.mainElements.blackboards.add(e,i,\"b-sheriff\"),S.removeTile(e,i,O)),53==S.getTile(e,i,O,!0).index&&(de.mainElements.blackboards.add(e,i,\"b-saloon\"),S.removeTile(e,i,O)),54==S.getTile(e,i,O,!0).index&&(de.mainElements.blackboards.add(e,i,\"b-store\"),S.removeTile(e,i,O)),2==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building1\"),S.removeTile(e,i,O)),4==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building2\"),S.removeTile(e,i,O)),7==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building3\"),S.removeTile(e,i,O)),8==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building4\"),S.removeTile(e,i,O)),5==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building5\"),S.removeTile(e,i,O)),9==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building6\"),S.removeTile(e,i,O)),10==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building7\"),S.removeTile(e,i,O)),11==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building8\"),S.removeTile(e,i,O)),12==S.getTile(e,i,O,!0).index&&(de.mainElements.buildings.add(e,i,\"building9\"),S.removeTile(e,i,O)),6==S.getTile(e,i,O,!0).index&&(de.mainElements.mines.add(e,i),S.removeTile(e,i,O)),504==S.getTile(e,i,O,!0).index&&(de.mainElements.cactusAnimateS.add(e,i),S.removeTile(e,i,O)),511==S.getTile(e,i,O,!0).index&&(de.mainElements.grassLeft.add(e,i),S.removeTile(e,i,O)),512==S.getTile(e,i,O,!0).index&&(de.mainElements.grassRight.add(e,i),S.removeTile(e,i,O)),461==S.getTile(e,i,O,!0).index&&(de.mainElements.grassAnim.add(e,i),S.removeTile(e,i,O)),462==S.getTile(e,i,O,!0).index&&(de.mainElements.grassAnim.add(e,i,\"right\"),S.removeTile(e,i,O)),515==S.getTile(e,i,O,!0).index&&(de.mainElements.keys.add(e,i),S.removeTile(e,i,O)),516==S.getTile(e,i,O,!0).index&&(de.mainElements.doors.add(e,i,466===S.getTile(e+1,i,O,!0).index),S.removeTile(e,i,O)),466==S.getTile(e,i,O,!0).index&&(de.mainElements.doorsHorizontal.add(e,i,516===S.getTile(e+1,i,O,!0).index),S.removeTile(e,i,O)),517==S.getTile(e,i,O,!0).index&&(de.mainElements.locks.add(e,i),S.removeTile(e,i,O)),467==S.getTile(e,i,O,!0).index&&(de.mainElements.locks.add(e,i,!0),S.removeTile(e,i,O)),111==S.getTile(e,i,O,!0).index&&(de.mainElements.fire.fireUpS.add(e,i),S.removeTile(e,i,O)),117==S.getTile(e,i,O,!0).index&&(de.mainElements.fire.fireUpNormalS.add(e,i),S.removeTile(e,i,O)),110==S.getTile(e,i,O,!0).index&&(de.mainElements.fire.fireDownS.add(e,i),S.removeTile(e,i,O)),109==S.getTile(e,i,O,!0).index&&(de.mainElements.fire.fireLeftS.add(e,i),S.removeTile(e,i,O)),112==S.getTile(e,i,O,!0).index&&(de.mainElements.fire.fireRightS.add(e,i),S.removeTile(e,i,O)),3==S.getTile(e,i,O,!0).index&&(de.mainElements.windmillNewS.add(e,i),S.removeTile(e,i,O)),552!==S.getTile(e,i,O,!0).index&&552!==S.getTile(e,i,A,!0).index&&552!==S.getTile(e,i,I,!0).index||q.push(e*b+\",\"+i*b);de.mainElements.saveLevelS.obj=he.add.group(),de.mainElements.saveLevelS.obj.enableBody=!0,de.mainElements.endLevelS.obj=he.add.group(),de.mainElements.endLevelS.obj.enableBody=!0,de.mainElements.logs.obj=he.add.group(),de.mainElements.logs.obj.enableBody=!0,de.mainElements.invisibleLogs.obj=he.add.group(),de.mainElements.invisibleLogs.obj.enableBody=!0,de.mainElements.Lifes.obj=he.add.group(),de.mainElements.Lifes.obj.enableBody=!0,de.mainElements.LifeSingleS.obj=he.add.group(),de.mainElements.LifeSingleS.obj.enableBody=!0,de.mainElements.coins.obj=he.add.group(),de.mainElements.coins.obj.enableBody=!0,de.mainElements.intruders.obj=he.add.group(),de.mainElements.intruders.obj.enableBody=!0,de.mainElements.kladki.poziom.obj=he.add.group(),de.mainElements.kladki.poziom.obj.enableBody=!0,de.mainElements.kladki.pionTopBack.obj=he.add.group(),de.mainElements.kladki.pionTopBack.obj.enableBody=!0,de.mainElements.kladki.pionBottomBack.obj=he.add.group(),de.mainElements.kladki.pionBottomBack.obj.enableBody=!0,de.mainElements.kladki.pionTop.obj=he.add.group(),de.mainElements.kladki.pionTop.obj.enableBody=!0,de.mainElements.kladki.pionBottom.obj=he.add.group(),de.mainElements.kladki.pionBottom.obj.enableBody=!0;for(let e=0;e<S.width;e++)for(let i=0;i<S.height;i++)602==S.getTile(e,i,O,!0).index&&(de.mainElements.saveLevelS.add(e,i,\"->\"),S.removeTile(e,i,O)),603==S.getTile(e,i,O,!0).index&&(de.mainElements.saveLevelS.add(e,i,\"<-\"),S.removeTile(e,i,O)),601==S.getTile(e,i,O,!0).index&&(de.mainElements.endLevelS.add(e,i),S.removeTile(e,i,O)),510==S.getTile(e,i,O,!0).index&&(de.mainElements.Lifes.add(e,i),S.removeTile(e,i,O)),460==S.getTile(e,i,O,!0).index&&(de.mainElements.LifeSingleS.add(e,i),S.removeTile(e,i,O)),502==S.getTile(e,i,O,!0).index&&(de.mainElements.coins.add(e,i),S.removeTile(e,i,O)),513==S.getTile(e,i,O,!0).index&&(S.removeTile(e,i,O),S.putTile(463,e,i,I)),267==S.getTile(e,i,O,!0).index&&(S.removeTile(e,i,O),S.putTile(217,e,i,I)),414==S.getTile(e,i,O,!0).index&&(de.mainElements.invisibleLogs.add(e,i),S.removeTile(e,i,O)),514==S.getTile(e,i,O,!0).index&&(de.mainElements.logs.lengthBonusCoins++,S.removeTile(e,i,O),S.putTile(564,e,i,I)),464==S.getTile(e,i,O,!0).index&&(S.removeTile(e,i,O),S.putTile(465,e,i,I)),268==S.getTile(e,i,O,!0).index&&(de.mainElements.logs.lengthBonusCoins++,S.removeTile(e,i,O),S.putTile(218,e,i,I)),269==S.getTile(e,i,O,!0).index&&(S.removeTile(e,i,O),S.putTile(219,e,i,I)),13==S.getTile(e,i,O,!0).index&&(de.mainElements.stoneBigS.add(e,i),S.removeTile(e,i,O)),503==S.getTile(e,i,O,!0).index&&(de.mainElements.bulletsGuns.add(e,i),S.removeTile(e,i,O)),551==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,1),S.removeTile(e,i,O)),553==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,2),S.removeTile(e,i,O)),554==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,3),S.removeTile(e,i,O)),555==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,4),S.removeTile(e,i,O)),556==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,5),S.removeTile(e,i,O)),557==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,6),S.removeTile(e,i,O)),558==S.getTile(e,i,O,!0).index&&(de.mainElements.intruders.add(e,i,7),S.removeTile(e,i,O)),505==S.getTile(e,i,O,!0).index&&(de.mainElements.kladki.poziom.add(e,i),S.removeTile(e,i,O)),506==S.getTile(e,i,O,!0).index&&(de.mainElements.kladki.pionTopBack.add(e,i),S.removeTile(e,i,O)),509==S.getTile(e,i,O,!0).index&&(de.mainElements.kladki.pionBottomBack.add(e,i),S.removeTile(e,i,O)),507==S.getTile(e,i,O,!0).index&&(de.mainElements.kladki.pionTop.add(e,i),S.removeTile(e,i,O)),508==S.getTile(e,i,O,!0).index&&(de.mainElements.kladki.pionBottom.add(e,i),S.removeTile(e,i,O)),501==S.getTile(e,i,O,!0).index&&(de.mainElements.player.add(e,i),S.removeTile(e,i,O));de.mainElements.firebs.obj=he.add.group(),de.mainElements.firebs.obj.enableBody=!0,de.mainElements.waters.obj=he.add.group(),de.mainElements.waters.obj.enableBody=!0,de.mainElements.waterStaticS.obj=he.add.group(),de.mainElements.waterStaticS.obj.enableBody=!0,de.mainElements.splashs.obj=he.add.group(),de.mainElements.splashs.obj.enableBody=!0,de.mainElements.fogSingleS.obj=he.add.group(),de.mainElements.fogSingleS.obj.enableBody=!0;for(let e=0;e<S.width;e++)for(let i=0;i<S.height;i++)520==S.getTile(e,i,O,!0).index&&(de.mainElements.firebs.add(e,i,d(1,6)),S.removeTile(e,i,O)),521==S.getTile(e,i,O,!0).index&&(de.mainElements.firebs.add(e,i,d(1,6),!0),S.removeTile(e,i,O)),518==S.getTile(e,i,O,!0).index&&(de.mainElements.waters.add(e,i),S.removeTile(e,i,O)),519==S.getTile(e,i,O,!0).index&&(de.mainElements.waters.add(e,i,\"water-red\"),S.removeTile(e,i,O)),468===S.getTile(e,i,O,!0).index&&(de.mainElements.waterStaticS.add(e,i,!1,\"left\"),S.removeTile(e,i,O)),418===S.getTile(e,i,O,!0).index&&(de.mainElements.waterStaticS.add(e,i,!1,\"center\"),S.removeTile(e,i,O)),62===S.getTile(e,i,O,!0).index&&(de.mainElements.fogSingleS.add(e,i),S.removeTile(e,i,O));de.mainElements.logs.lengthBonusCoins||(de.mainElements.logs.lengthBonusCoins=0),ne=de.mainElements.coins.obj.children.length+de.mainElements.logs.lengthBonusCoins,V.main=!0,de.audio.bg.play(.15,p[H.activeIdLevel].bgAudio),he.load.start()}),void 0),de.buttons.play.hide(),de.buttons.quit.hide(),de.buttons.mute.hide()},me=()=>{he.clearBeforeRender=!1,B=parseInt(u(\"unlock-levels\"))>1?u(\"unlock-levels\"):1,de.bgSet(\"#dfe4ff\"),C=he.add.image(0,0,\"backgroundMenu\"),C.fixedToCamera=!0,de.buttons.play.show(),de.buttons.quit.show(),de.buttons.mute.show(u(\"mute\")?10:9);const e=t()?\"GL\":\"CA\";de.text.show(!1,he.width-180,he.height-25,.9,\"semDesign Game (\"+(n()?\"Android\":\"Browser\")+\") \"+e,\"400 12px Arial\",\"#000000\",!0,\"logoText\"),de.buttons.openBoxMenu.show(),de.buttons.levels.show(),he.sound.mute=!!u(\"mute\");let i=!0;he.load.onLoadComplete.add((function(){i&&(de.mainElements.player.scale(),de.preloader.hide(),de.windows.boxTopMenu.f=!1,ae?(de.mainElements.endLevelS.obj.alpha=0,de.mainElements.player.obj.body.gravity.y=-740,de.mainElements.player.obj.body.bounce.y=0,H.blockedKeys=!0,he.time.events.add(1,(function(){de.mainElements.player.obj.alpha=0}),this),he.camera.follow(de.mainElements.player.obj,Phaser.Camera.FOLLOW_LOCKON,1,1)):(de.image.show((de.windows.boxMenu.obj,0),(de.windows.boxMenu.obj,0),\"boxTopMenu\",\"boxTopMenu\",.85,1,!1,!1,!1,!0),de.windows.boxTopMenu.const.show(),de.buttons.navigations.show(),\"object\"==typeof window.awebapp&&window.navigator.onLine&&(he.time.events.add(900,(function(){de.windows.boxMenu.show()}),this),window.awebapp.showInterstitial())),de.buttons.openBoxMenu.show(\"play-game\"),i=!1)}),void 0)},ce=()=>{if(V.main){if(de.mainElements.windmillNewS.obj1.forEach((function(e){e.angle+=1}),void 0,!0),de.mainElements.player.obj.body.offset.x=8,de.mainElements.player.obj.body.width=32,(P.left.isDown||P.right.isDown||P.up.isDown)&&!ie&&(oe=de.mainElements.player.obj.body.y,ie=!0,de.mainElements.player.obj.body.bounce.y=.3),he.physics.arcade.overlap(de.mainElements.player.gun.bullets.obj,I,(function(e,i){463===i.index||564===i.index||465===i.index||217===i.index||218===i.index||219===i.index?(i.x-1>0&&i.y-1>0&&(463===S.getTile(i.x-1,i.y-1,I,!0).index||564===S.getTile(i.x-1,i.y-1,I,!0).index||465===S.getTile(i.x-1,i.y-1,I,!0).index||217===S.getTile(i.x-1,i.y-1,I,!0).index||218===S.getTile(i.x-1,i.y-1,I,!0).index||219===S.getTile(i.x-1,i.y-1,I,!0).index)&&S.removeTile(i.x-1,i.y-1),463!==S.getTile(i.x+1,i.y+1,I,!0).index&&564!==S.getTile(i.x+1,i.y+1,I,!0).index&&465!==S.getTile(i.x+1,i.y+1,I,!0).index&&217!==S.getTile(i.x+1,i.y+1,I,!0).index&&218!==S.getTile(i.x+1,i.y+1,I,!0).index&&219!==S.getTile(i.x+1,i.y+1,I,!0).index||S.removeTile(i.x+1,i.y+1),463!==S.getTile(i.x+1,i.y,I,!0).index&&564!==S.getTile(i.x+1,i.y,I,!0).index&&465!==S.getTile(i.x+1,i.y,I,!0).index&&217!==S.getTile(i.x+1,i.y,I,!0).index&&218!==S.getTile(i.x+1,i.y,I,!0).index&&219!==S.getTile(i.x+1,i.y,I,!0).index||S.removeTile(i.x+1,i.y),463!==S.getTile(i.x,i.y+1,I,!0).index&&564!==S.getTile(i.x,i.y+1,I,!0).index&&465!==S.getTile(i.x,i.y+1,I,!0).index&&217!==S.getTile(i.x,i.y+1,I,!0).index&&218!==S.getTile(i.x,i.y+1,I,!0).index&&219!==S.getTile(i.x,i.y+1,I,!0).index||S.removeTile(i.x,i.y+1),i.x-1>0&&(463===S.getTile(i.x-1,i.y,I,!0).index||564===S.getTile(i.x-1,i.y,I,!0).index||465===S.getTile(i.x-1,i.y,I,!0).index||217===S.getTile(i.x-1,i.y,I,!0).index||218===S.getTile(i.x-1,i.y,I,!0).index||219===S.getTile(i.x-1,i.y,I,!0).index)&&S.removeTile(i.x-1,i.y),i.y-1>0&&(463===S.getTile(i.x,i.y-1,I,!0).index||564===S.getTile(i.x,i.y-1,I,!0).index||465===S.getTile(i.x,i.y-1,I,!0).index||217===S.getTile(i.x,i.y-1,I,!0).index||218===S.getTile(i.x,i.y-1,I,!0).index||219===S.getTile(i.x,i.y-1,I,!0).index)&&S.removeTile(i.x,i.y-1),i.x-1>0&&(463===S.getTile(i.x-1,i.y+1,I,!0).index||564===S.getTile(i.x-1,i.y+1,I,!0).index||465===S.getTile(i.x-1,i.y+1,I,!0).index||217===S.getTile(i.x-1,i.y+1,I,!0).index||218===S.getTile(i.x-1,i.y+1,I,!0).index||219===S.getTile(i.x-1,i.y+1,I,!0).index)&&S.removeTile(i.x-1,i.y+1),i.y-1>0&&(463===S.getTile(i.x+1,i.y-1,I,!0).index||564===S.getTile(i.x+1,i.y-1,I,!0).index||465===S.getTile(i.x+1,i.y-1,I,!0).index||217===S.getTile(i.x+1,i.y-1,I,!0).index||218===S.getTile(i.x+1,i.y-1,I,!0).index||219===S.getTile(i.x+1,i.y-1,I,!0).index)&&S.removeTile(i.x+1,i.y-1),463!==S.getTile(i.x+2,i.y,I,!0).index&&564!==S.getTile(i.x+2,i.y,I,!0).index&&465!==S.getTile(i.x+2,i.y,I,!0).index&&217!==S.getTile(i.x+2,i.y,I,!0).index&&218!==S.getTile(i.x+2,i.y,I,!0).index&&219!==S.getTile(i.x+2,i.y,I,!0).index||S.removeTile(i.x+2,i.y),i.x-2>0&&(463===S.getTile(i.x-2,i.y,I,!0).index||564===S.getTile(i.x-2,i.y,I,!0).index||465===S.getTile(i.x-2,i.y,I,!0).index||217===S.getTile(i.x-2,i.y,I,!0).index||218===S.getTile(i.x-2,i.y,I,!0).index||219===S.getTile(i.x-2,i.y,I,!0).index)&&S.removeTile(i.x-2,i.y),de.mainElements.explosion.add(i.x,i.y),S.removeTile(i.x,i.y),463===i.index&&de.mainElements.logs.add(i.x,i.y,!1,\"log\"),564===i.index&&de.mainElements.logs.add(i.x,i.y,\"coin\",\"log\"),465===i.index&&de.mainElements.logs.add(i.x,i.y,\"surprise\",\"log\"),217===i.index&&de.mainElements.logs.add(i.x,i.y,!1,\"stone\"),218===i.index&&de.mainElements.logs.add(i.x,i.y,\"coin\",\"stone\"),219===i.index&&de.mainElements.logs.add(i.x,i.y,\"surprise\",\"stone\")):i.index>0&&e&&(e.kill(),de.mainElements.explosion.add(i.x,i.y))}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,I,(function(e,i){101===i.index?(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,he.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this)):417===i.index?(S.removeTile(i.x,i.y,I),S.putTile(416,i.x,i.y,I),de.mainElements.openDoor(e)):463!==i.index&&564!==i.index&&465!==i.index&&217!==i.index&&218!==i.index&&219!==i.index||(S.removeTile(i.x,i.y),463===i.index&&de.mainElements.logs.add(i.x,i.y,!1,\"log\"),564===i.index&&de.mainElements.logs.add(i.x,i.y,\"coin\",\"log\"),465===i.index&&de.mainElements.logs.add(i.x,i.y,\"surprise\",\"log\"),217===i.index&&de.mainElements.logs.add(i.x,i.y,!1,\"stone\"),218===i.index&&de.mainElements.logs.add(i.x,i.y,\"coin\",\"stone\"),219===i.index&&de.mainElements.logs.add(i.x,i.y,\"surprise\",\"stone\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.gun.bullets.obj,I,(function(e,i){101===i.index&&(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,he.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this))}),null,void 0),de.mainElements.player.obj.t1=!1,he.physics.arcade.collide(de.mainElements.player.obj,I,(function(e,i){de.mainElements.player.checkIfWasKilledAndOther(e),e.killHitIntruder&&(e.killHitIntruder=!1),(P.right.isDown||P.left.isDown)&&(e.body.blocked.right||e.body.blocked.left)&&!G.isDown&&e.body.onFloor()&&(e.body.velocity.y=-12*b)}),null,void 0),he.physics.arcade.collide(de.mainElements.coins.obj,I),he.physics.arcade.collide(de.mainElements.logs.obj,I),he.physics.arcade.collide(de.mainElements.logs.obj,de.mainElements.intruders.obj,(function(e,i){de.mainElements.intruders.collisionBack(i)}),null,void 0),he.physics.arcade.collide(de.mainElements.logs.obj,de.mainElements.logs.obj,(function(e){})),he.physics.arcade.overlap(de.mainElements.invisibleLogs.obj,de.mainElements.player.obj,(function(e,i){i.onlynOne||de.mainElements.player.obj.body.overlapY>0||(i.body.velocity.y=-330,\"left\"===U?i.body.velocity.x=-30:\"right\"===U&&(i.body.velocity.x=30),de.audio.breakGround(),he.time.events.add(50,(function(){i.body.allowGravity=!0,i.body.checkCollision.down=!1}),this),i.originY=i.y,i.scale.setTo(1,1),i.animations.add(\"run\",[11,10,9,8,7,6,5,4,3,2,1,0,0,0]).onComplete.add((function(){i.originX=i.x,de.audio.magic(),S.putTile(104,Math.ceil(i.originX/b),Math.ceil(i.originY/b)+1,I),S.putTile(104,Math.ceil(i.originX/b)+1,Math.ceil(i.originY/b)+1,I),S.putTile(104,Math.ceil(i.originX/b)+2,Math.ceil(i.originY/b)+1,I),S.putTile(104,Math.ceil(i.originX/b)-1,Math.ceil(i.originY/b)+1,I),S.putTile(104,Math.ceil(i.originX/b)-2,Math.ceil(i.originY/b)+1,I),i.kill()}),this),i.animations.play(\"run\",15,!1),i.onlynOne=!0)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.gun.bullets.obj,de.mainElements.logs.obj,(function(e,i){de.mainElements.logs.destruction(i),e.kill()}),null,void 0),he.physics.arcade.collide(de.mainElements.logs.obj,de.mainElements.player.obj,(function(e,i){de.mainElements.player.obj.body.overlapY>0?(de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),i.isUp=!0,de.mainElements.player.obj.body.allowGravity=!1,he.time.events.add(300,(function(){i.isUp=!1}),this)):de.mainElements.logs.destruction(i)}),null,void 0),de.mainElements.stoneBigS.obj.forEach((function(e){0!==e.body.gravity.x&&(e.body.gravity.x=0),e.keepStone?(de.mainElements.stoneBigS.keepStone=!0,e.y=de.mainElements.player.obj.y+de.mainElements.player.obj.height-e.body.height/2,\"right\"===Y?e.x=de.mainElements.player.obj.x+de.mainElements.player.obj.width:\"left\"===Y&&(e.x=de.mainElements.player.obj.x)):Math.ceil(e.body._dy)>4&&(e.quake=!0)}),void 0,!0),he.physics.arcade.collide(de.mainElements.stoneBigS.obj,I,(function(e,i){e.quake&&(de.audio.quake(),he.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),e.quake=!1)}),null,void 0),he.physics.arcade.collide(de.mainElements.intruders.obj,de.mainElements.stoneBigS.obj,(function(e,i){i.quake?(i.quake=!1,e.body.overlapY<0&&e.body.height&&(e.body.height=0,e.killing||de.mainElements.intruders.collisionIntruz(e,\"total-kill\"),e.killing=!0),de.audio.quake(),he.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL)):(de.mainElements.intruders.collisionBack(e),i.body.moves=!1,i.body.immovable=!0,he.time.events.remove(i.fOnlyOne),i.fOnlyOne=he.time.events.add(300,(function(){i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this))}),null,void 0),he.physics.arcade.collide(de.mainElements.player.gun.bullets.obj,de.mainElements.stoneBigS.obj,(function(e,i){de.mainElements.explosion.add(e.body.position.x/b,e.body.position.y/b),de.mainElements.stoneBigExplosion.add(i.body.position.x/b,i.body.position.y/b),i.kill(),e.kill()}),null,void 0),de.mainElements.player.colisinStoneCollision=0,he.physics.arcade.collide(de.mainElements.player.obj,de.mainElements.stoneBigS.obj,(function(e,i){if(0===e.body.overlapY&&(de.mainElements.player.colisinStoneCollision++,P.down.isDown&&!de.mainElements.stoneBigS.keepStone?(i.keepStone=!0,de.mainElements.stoneBigS.keepStone=!0,le=50,e.youCanJump=!1,Y=P.left.isDown?\"left\":\"right\",he.time.events.add(10,(function(){le=50}),this)):(i.body.immovable=!0,i.body.moves=!1,he.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=he.time.events.add(300,(function(){i.body.immovable=!1,i.body.moves=!0}),this),P.down.isDown&&de.mainElements.stoneBigS.keepStone&&(i.keepStone=!1,de.mainElements.stoneBigS.keepStone=!1,le=1!==de.mainElements.player.obj.scale.y?300:200,i.body.velocity.y=-300,i.body.velocity.x=\"left\"===Y?-300:300)),i.body.immovable=!1,i.body.moves=!0,i.body.gravity.x=0,H.blockedKeys?i.body.gravity.x=0:P.right.isDown?i.body.gravity.x=de.mainElements.stoneBigS.keepStone?8500:-8500:P.left.isDown&&(i.body.gravity.x=de.mainElements.stoneBigS.keepStone?-8500:8500),he.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=he.time.events.add(30,(function(){i.body.gravity.x=0,i.body.immovable=!1}),this),de.mainElements.player.colisinStoneCollision>1&&(i.body.gravity.x=0)),i.quake&&(de.audio.quake(),he.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),i.quake=!1,e.body.overlapY<0&&e.body.height)){const i=e.body.height;e.body.height=0,he.time.events.add(300,(function(){e.body.height=i}),this),de.mainElements.player.lostLife(e,10)}i.keepStone||(e.youCanJump=!0,he.time.events.add(300,(function(){e.youCanJump=!1}),this)),i.quake=!1,i.onlyOne&&\"idle\"===U||(de.mainElements.player.checkIfWasKilledAndOther(e),i.onlyOne=!0),he.time.events.remove(i.fOnlyOne),i.fOnlyOne=he.time.events.add(100,(function(){i.onlyOne=!1,i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this)}),null,void 0),he.physics.arcade.collide(de.mainElements.stoneBigS.obj,de.mainElements.stoneBigS.obj,(function(e,i){he.time.events.remove(e.timeCheck1),e.timeCheck1=he.time.events.add(50,(function(){e.body.velocity.x=0}),this),he.time.events.remove(i.timeCheck1),i.timeCheck1=he.time.events.add(50,(function(){i.body.velocity.x=0}),this)})),he.physics.arcade.collide(de.mainElements.Lifes.obj,I),he.physics.arcade.collide(de.mainElements.player.gun.bullets.obj,I),he.physics.arcade.overlap(de.mainElements.player.gun.bullets.obj,de.mainElements.intruders.obj,(function(e,i){4===i.type||5===i.type||7===i.type?(i.killing||de.mainElements.intruders.collisionIntruz(i,\"total-kill\"),i.killing=!0):(de.audio.screamIntruder(.05),i.deactiveVelocity=e.direction,i.firstShoot?(i.randomMove=\"intruzLeft\",i.killing||(de.mainElements.intruders.collisionIntruz(i,\"total-kill\"),i.killing=!0)):(6===i.type?i.firstShoot=0:(i.firstShoot=1,i.randomSpeed=i.randomSpeed/2),he.time.events.add(50,(function(){de.mainElements.splashs.add(i.body.position.x/b,e.body.position.y/b,\"splash-water-red\",\"blood\")}),this),he.time.events.add(50,(function(){\"intruzRight\"===i.randomMove?i.randomMove=\"intrudersdleLeft\":i.randomMove=\"intrudersdleRight\"}),this),he.time.events.add(600,(function(){\"intrudersdleLeft\"===i.randomMove?i.randomMove=\"intruzRight\":i.randomMove=\"intruzLeft\",i.deactiveVelocity=!1}),this))),de.mainElements.explosion.add(e.body.position.x/b,e.body.position.y/b),e.kill()}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.gun.bullets.obj,I,(function(e,i){(e.body.blocked.right||e.body.blocked.left)&&e.kill()}),null,void 0),de.mainElements.player.obj.gForceWater&&(de.mainElements.player.obj.body.gravity.y=0,de.mainElements.player.obj.gForceWater=!1),de.mainElements.firebs.obj.forEach((function(e){e.startPositionSaveY||(e.startPositionSaveY=Math.ceil(e.body.position.y/b)),e.currentPositionY=Math.ceil(e.body.position.y/b),0==Q&&(e.start=!0),de.mainElements.player.detectionHoldOnObject(e,2)?(e.active=!0,e.activeWait&&(he.time.events.add(1e3*d(0,3),(function(){e.fall=!1,e.alpha=1}),this),e.activeWait=!1)):e.active=!1,e.start&&(e.fall?e.startPositionSaveY-e.currentPositionY!=0||e.t||(e.body.velocity.y=0,e.body.allowGravity=!1,e.t=!0,e.alpha=0,he.time.events.add(1e3*d(1,6),(function(){e.active?(e.fall=!1,e.alpha=1):e.activeWait=!0}),this)):e.startPositionSaveY-e.currentPositionY==0?(e.typeFire||e.animations.play(\"run1\",10,!0),e.alpha=1,e.body.allowGravity=!1,e.body.velocity.y=-600):e.startPositionSaveY-e.currentPositionY==4?e.body.allowGravity=!0:e.startPositionSaveY-e.currentPositionY==16&&(e.typeFire||e.animations.play(\"run2\",10,!0),e.body.allowGravity=!0,e.body.velocity.y=0,e.fall=!0,e.t=!1))}),void 0,!0),he.physics.arcade.overlap(de.mainElements.firebs.obj,de.mainElements.waters.obj,(function(e,i){he.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=he.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b,(e.body.position.y+(e.typeFire?-16:8))/b,\"water-red\"===i.type&&\"splash-water-red\"),e.gForceWaterOnlyeOne=!0)}),null,void 0),he.physics.arcade.overlap(de.mainElements.stoneBigS.obj,de.mainElements.waters.obj,(function(e,i){he.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=he.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b,(e.body.position.y+(e.typeFire?-16:8))/b,\"water-red\"===i.type&&\"splash-water-red\"),e.gForceWaterOnlyeOne=!0)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.firebs.obj,(function(e,i){1===i.alpha&&de.mainElements.player.lostLife(e)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.waters.obj,(function(e,i){if(e.body.gravity.y=-525,de.mainElements.player.checkIfWasKilledAndOther(e,\"water\"),he.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=he.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),\"water-red\"!==i.type?(he.time.events.remove(e.waterYSaveTime),e.waterYSaveTime=he.time.events.add(300,(function(){e.waterYSave=!1}),this),e.waterYSave||(e.waterYSave=Math.ceil(i.body.position.y/b)),e.waterYSave-Math.ceil(e.body.position.y/b)<2?(e.iterWater||(e.iterWater=1),e.iterWater++,e.iterWater>=250&&(de.mainElements.player.lostLife(e),e.iterWater=!1)):e.iterWater=!1):de.mainElements.player.lostLife(e,10),!e.gForceWaterOnlyeOne){let o=!1;\"water-red\"===i.type&&(o=\"splash-water-red\"),\"left\"===e.animations.currentAnim.name||\"jump-left\"===e.animations.currentAnim.name?de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b-32/b,(e.body.position.y+32)/b,o):\"right\"===e.animations.currentAnim.name||\"jump-right\"===e.animations.currentAnim.name?de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b+32/b,(e.body.position.y+32)/b,o):de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b,(e.body.position.y+28)/b,o),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,(P.left.isDown||P.right.isDown)&&(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),X%15==0&&(e.delayWater=!1))}),null,void 0),de.mainElements.waters.obj.forEach((function(e){de.mainElements.player.detectionHoldOnObject(e,1)?e.alpha||(e.alpha=.7):e.alpha&&(e.alpha=0)}),void 0,!0),de.mainElements.intruders.obj.forEach((function(e){e.type<4&&(e.body.offset.x=8,e.body.width=32),e.gForceWater&&(e.body.gravity.y=0,e.gForceWater=!1),4===e.type?(e.body.offset.y=6,e.body.height=26):5!==e.type&&7!==e.type||(e.body.offset.y=16,e.body.height=52,e.jumpToFly||(e.body.velocity.y=X>=0&&X<60?-50:25)),e.body.y+e.height===S.height*S.tileHeight&&(e.killing||de.mainElements.intruders.collisionIntruz(e,\"total-kill\"),e.killing=!0),6===e.type&&(\"intrudersdleRight\"!==e.randomMove&&\"intrudersdleLeft\"!==e.randomMove||e.position.x>de.mainElements.player.obj.position.x-128&&e.position.x<de.mainElements.player.obj.position.x+64&&(\"intrudersdleRight\"===e.randomMove?e.randomMove=\"intruzRight\":\"intrudersdleLeft\"===e.randomMove&&(e.randomMove=\"intruzLeft\")))}),void 0,!0),he.physics.arcade.overlap(de.mainElements.intruders.obj,de.mainElements.waters.obj,(function(e,i){if(e.active){if(e.body.gravity.y=-525,he.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=he.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),!e.gForceWaterOnlyeOne){4===e.type?e.move_y=-33/b:e.move_y=0;let o=!1;\"water-red\"===i.type&&(e.killed||(de.mainElements.intruders.collisionIntruz(e,\"total-kill\"),e.killed=!0),o=\"splash-water-red\"),\"left\"===e.animations.currentAnim.name?de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b-32/b,e.move_y+(e.body.position.y+32)/b,o):\"right\"===e.animations.currentAnim.name?de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b+32/b,e.move_y+(e.body.position.y+32)/b,o):de.mainElements.splashs.add((e.body.position.x+e.body.width/2)/b,e.move_y+(e.body.position.y+28)/b,o),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,\"right\"!=e.animations.currentAnim.name&&\"left\"!=e.animations.currentAnim.name||(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),X%15==0&&(e.delayWater=!1))}}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.coins.obj,(function(e,i){de.audio.coin(),de.mainElements.player.numberCoins++,de.mainElements.player.numberCoinsLevel++,de.mainElements.player.numberCoinsLevelProcent=Math.ceil(100*de.mainElements.player.numberCoinsLevel/ne),i.kill(),de.windows.boxTopMenu.f=!1,de.addPoint(i.x,e.y,\"addPointGold\"+de.mainElements.player.numberCoins,\"+1 gold\")}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.Lifes.obj,(function(e,i){de.mainElements.player.numberMainLifes++,de.audio.life(),e.body.velocity.y=-300,he.time.events.remove(de.mainElements.player.timeLife),1===e.scale.y&&(de.mainElements.player.scale(\"increase\"),de.mainElements.player.timeLife=he.time.events.add(3e4,(function(){e.scale.y>1&&de.mainElements.player.scale(\"restart\")}),this)),he.time.events.add(200,(function(){de.audio.life(),he.time.events.add(200,(function(){de.audio.life()}),this)}),this),i.kill(),de.windows.boxTopMenu.f=!1,de.addPoint(i.x,e.y,\"addPointFullLife\"+de.mainElements.player.numberMainLifes,\"+1 full life\")}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.LifeSingleS.obj,(function(e,i){de.mainElements.player.numberLifes===h||(de.mainElements.player.numberLifes++,de.audio.life(),i.kill(),de.windows.boxTopMenu.f=!1,de.addPoint(i.x,e.y,\"addPointLife\"+de.mainElements.player.numberLifes,\"+1 life\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.bulletsGuns.obj,(function(e,i){de.audio.bullets(),de.mainElements.player.countBullets+=6,de.mainElements.player.countBulletsF=!0,i.kill(),de.windows.boxTopMenu.f=!1,de.addPoint(i.x,e.y,\"addPointBullet\"+de.mainElements.player.countBullets,\"+6 bullets\")}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.endLevelS.obj,(function(e,i){if(!H.readyLoad){de.mainElements.player.removeKeepStone(),de.audio.nextLevel(.5),m(\"id-level-last-memory\",H.activeIdLevel),m(\"coins\",de.mainElements.player.numberCoins),m(\"coins-\"+H.activeIdLevel,de.mainElements.player.numberCoinsLevel),de.mainElements.player.numberCoinsLevelProcent>de.mainElements.player.numberCoinsLevelProcentLastMemory&&m(\"coins-procent-\"+H.activeIdLevel,de.mainElements.player.numberCoinsLevelProcent),m(\"Lifes\",de.mainElements.player.numberLifes),m(\"main-Lifes\",de.mainElements.player.numberMainLifes),m(\"bullets\",de.mainElements.player.countBullets),H.readyLoad=!0,H.blockedKeys=!0;const e=function(){de.text.hide(\"score\"),de.text.hide(\"scoreTotal\"),ue(),H.activeIdLevel=H.activeIdLevel+1,M===H.activeIdLevel-1?de.windows.boxMenu.show(\"game-complete\"):(pe(),H.name=\"level\"+H.activeIdLevel,(!u(\"unlock-levels\")||u(\"unlock-levels\")<H.activeIdLevel)&&(B=H.activeIdLevel,m(\"unlock-levels\",B)),re(!1,M===H.activeIdLevel,J))};if(ae)he.time.events.add(3e3,e,this);else{de.mainElements.player.obj.animations.play(\"end-level\"),he.time.events.add(3e3,(function(){de.mainElements.player.obj.animations.play(\"idle-left\")}),this),de.mainElements.player.obj.body.bounce.y=.9,de.mainElements.player.obj.body.velocity.y=-330,de.mainElements.player.jumpTimer=he.time.now+330;const i=de.mainElements.player.numberCoinsLevelProcentLastMemory;let o=\"\";J=0;const n=function(){de.text.show(\"center\",0,0,.9,\"Score: \"+J+\"%\",\"bold 20px Arial\",\"#dad9d5\",!0,\"score\",!0),de.audio.ticScore(),J<de.mainElements.player.numberCoinsLevelProcent?(J++,he.time.events.add(100,n,this)):(de.audio.quake(),he.camera.shake(.05,500,!0,Phaser.Camera.SHAKE_VERTICAL),i>J?o=\"\\nYour the best score: \"+i+\"%\":J&&(o=\"\\nThis is your best score!\"),M===H.activeIdLevel+1?he.time.events.add(1e3,(function(){let i=0;for(let e=1;e<M;e++)u(\"coins-procent-\"+e)&&(i+=parseInt(u(\"coins-procent-\"+e)));i=Math.ceil(i/(M-1));let o=0;const n=function(){o<i?(o++,he.time.events.add(100,n,this)):(de.audio.quake(.6),he.camera.shake(.08,600,!0,Phaser.Camera.SHAKE_VERTICAL),he.time.events.add(4e3,e,this)),de.text.hide(\"scoreTotal\"),de.text.show(\"center\",0,3*b,.9,\"Score Total: \"+o+\"%\",\"bold 32px Arial\",\"#dad9d5\",!0,\"scoreTotal\",!0),de.audio.ticScore()};n()}),this):he.time.events.add(4e3,e,this)),de.text.hide(\"score\"),de.text.show(\"center\",0,0,.9,\"Score: \"+J+\"%\"+o,\"bold 20px Arial\",\"#dad9d5\",!0,\"score\",!0)};he.time.events.add(3e3,n,this)}let i=null;const o=function(e){i||(i=e),\"right\"===U?de.mainElements.player.obj.body.velocity.x=100:\"left\"===U&&(de.mainElements.player.obj.body.velocity.x=-100);e-i<500&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}de.windows.boxTopMenu.f=!1}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.saveLevelS.obj,(function(e,i){$===i.body.x&&ee===i.body.y||i.block||($=i.body.x,ee=i.body.y,i.block=!0,i.animations.play(\"run2\",17,!0),de.audio.flash(1))}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.keys.obj,(function(e,i){i.kill(),te++,de.audio.key(.8),de.windows.boxTopMenu.f=!1,de.addPoint(i.x,e.y,\"addPointKey\",\"You got the key!\")}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.locks.obj,(function(e,i){te>0&&(i.kill(),de.mainElements.openDoor(e),de.windows.boxTopMenu.f=!1,te--)}),null,void 0),he.physics.arcade.collide(de.mainElements.player.obj,de.mainElements.doors.obj),he.physics.arcade.collide(de.mainElements.player.obj,de.mainElements.doorsHorizontal.obj,(function(e,i){e.youCanJump=!0,he.time.events.add(300,(function(){e.youCanJump=!1}),this),de.mainElements.player.checkIfWasKilledAndOther(e)}),null,void 0),he.physics.arcade.collide(de.mainElements.intruders.obj,de.mainElements.doors.obj,(function(e,i){de.mainElements.intruders.collisionBack(e)})),he.physics.arcade.collide(de.mainElements.intruders.obj,de.mainElements.doorsHorizontal.obj),he.physics.arcade.collide(de.mainElements.stoneBigS.obj,de.mainElements.doors.obj),he.physics.arcade.collide(de.mainElements.player.gun.bullets.obj,de.mainElements.doors.obj,(function(e,i){de.mainElements.explosion.add(i.x/b,e.y/b),e.kill()}),null,void 0),he.physics.arcade.collide(de.mainElements.stoneBigS.obj,de.mainElements.doorsHorizontal.obj),de.mainElements.player.obj.body.y+de.mainElements.player.obj.height===S.height*S.tileHeight&&de.mainElements.player.lostLife(de.mainElements.player.obj,3),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.fire.fireUpS.obj,(function(e,i){de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.player.lostLife(e)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.fire.fireDownS.obj,(function(e,i){de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.player.lostLife(e)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.fire.fireLeftS.obj,(function(e,i){de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.player.lostLife(e)}),null,void 0),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.fire.fireRightS.obj,(function(e,i){de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.player.lostLife(e)}),null,void 0),he.physics.arcade.collide(de.mainElements.intruders.obj,I),H.blockedKeys||(he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.intruders.obj,(function(e,i){i.killing||(e.body.overlapY>0&&(de.mainElements.player.checkIfWasKilledAndOther(e),4===i.type?de.audio.breakBones():5===i.type?de.audio.condor():7===i.type?de.audio.owl():de.audio.screamIntruder(.05),de.mainElements.intruders.collisionIntruz(i),5!==i.type&&6!==i.type&&5!==i.type&&(i.hit&&e.killHitIntruder||(e.killHitIntruder=!0,i.hit=1),i.hit>6?(i.killing||de.mainElements.intruders.collisionIntruz(i,\"total-kill\"),i.killing=!0,i.hit=!1,i.type<4&&de.mainElements.bulletsGuns.add(i.x/b-1,i.y/b),i.type<4&&i.giveBackLive&&de.mainElements.LifeSingleS.add(i.x/b,i.y/b)):i.hit++)),0!==e.body.overlapY&&(de.mainElements.player.lostLife(e),i.giveBackLive=!0))}),null,void 0),he.physics.arcade.collide(de.mainElements.intruders.obj,de.mainElements.player.obj)),de.mainElements.player.countBulletsF&&(0===de.mainElements.player.countBullets?(de.buttons.navigations.shot.alpha=0,de.buttons.navigations.shot.inputEnabled=!1):(de.buttons.navigations.shot.alpha=.6,de.buttons.navigations.shot.inputEnabled=!0),de.mainElements.player.countBulletsF=!1),X>=120?X=0:X++,he.physics.arcade.overlap(de.mainElements.intruders.obj,I,(function(e,i){if(de.mainElements.player.detectionHoldOnObject(e,.8)?(e.active=!0,0===e.alpha&&(e.alpha=1)):(e.active=!1,e.alpha=0,e.body.velocity.x=0,e.animations.stop()),e.active)if(e.timeLoop||(e.timeLoop=1,de.mainElements.intruders.id++,e.id=de.mainElements.intruders.id,e.break=4e3*e.id),e.timeLoop++,e.body.velocity.x=0,\"intruzRight\"==e.randomMove||\"intruzLeft\"==e.randomMove)1!==e.type&&4!==e.type&&5!==e.type&&7!==e.type||(e.body.blocked.left?(4===e.type?(e.frame=41,he.time.events.add(30,(function(){e.frame=37}),this),he.time.events.add(60,(function(){e.randomMove=\"intruzLeft\"}),this)):e.randomMove=\"intruzLeft\",5===e.type&&de.audio.condor(),7===e.type&&de.audio.owl()):e.body.blocked.right&&(4===e.type?(e.frame=40,he.time.events.add(30,(function(){e.frame=37}),this),he.time.events.add(60,(function(){e.randomMove=\"intruzRight\"}),this)):e.randomMove=\"intruzRight\",5===e.type&&de.audio.condor(),7===e.type&&de.audio.owl())),e.body.blocked.up&&(e.body.blocked.left?e.randomMove=\"intruzLeft\":e.body.blocked.right&&(e.randomMove=\"intruzRight\")),2!==e.type&&3!==e.type||(e.body.blocked.left||e.body.blocked.right)&&(de.mainElements.intruders.jump(e,450),2===X&&(e.body.blocked.left?e.randomMove=\"intruzLeft\":e.body.blocked.right&&(e.randomMove=\"intruzRight\"))),1===e.type||2===e.type||4===e.type||5===e.type||6===e.type||7===e.type?\"intruzRight\"==e.randomMove?(4===e.type?e.body.velocity.x=-e.randomSpeed/2:5===e.type||7===e.type?e.body.velocity.x=-e.randomSpeed/1.2:e.deactiveVelocity?(\"left\"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,de.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play(\"left\"),e.check=!1):\"intruzLeft\"==e.randomMove&&(4===e.type?e.body.velocity.x=e.randomSpeed/2:5===e.type||7===e.type?e.body.velocity.x=e.randomSpeed/1.2:e.deactiveVelocity?(\"left\"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,de.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play(\"right\"),e.check=!1):3===e.type&&(\"intruzRight\"==e.randomMove?e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play(\"idle-left\"),e.randomMove=\"intruzLeft\",e.check=!0),e.killing&&e.animations.play(\"kill\")):(e.deactiveVelocity?(\"left\"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,de.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play(\"left\"),e.check=!1):\"intruzLeft\"==e.randomMove&&(e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play(\"idle-right\"),e.randomMove=\"intruzRight\",e.check=!0),e.killing&&e.animations.play(\"kill\")):(e.deactiveVelocity?(\"left\"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,de.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play(\"right\"),e.check=!1))),6===e.type&&(e.area||(e.position.x<de.mainElements.player.obj.position.x?e.randomMove=\"intruzLeft\":e.randomMove=\"intruzRight\",e.area=!0,he.time.events.add(r([600,900,1200]),(function(){e.area=!1}),this)),(e.body.blocked.left||e.body.blocked.right)&&(de.mainElements.intruders.jump(e,450),2===X&&(e.body.blocked.left?e.randomMove=\"intrudersdleLeft\":e.body.blocked.right&&(e.randomMove=\"intrudersdleRight\")))),5!==e.type&&7!==e.type||e.body.blocked.down&&(de.mainElements.intruders.jump(e,350),5===e.type&&de.audio.condor(),7===e.type&&de.audio.owl()),e.timeLoop>=1&&e.timeLoop<=4e3+e.break||(e.timeLoop=1);else if(\"intrudersdleRight\"===e.randomMove)e.animations.play(\"idle-right\");else if(\"intrudersdleLeft\"===e.randomMove)e.animations.play(\"idle-left\");else if(\"intruzDelete\"===e.randomMove){e.randomMove=parseInt(2*Math.random())?\"intruzRight\":\"intruzLeft\";let i=[],o=e.wspStartX,n=e.wspStartY;if(q.length>0){const e=d(0,q.length-1);i=q[e].split(\",\"),o=parseInt(i[0]/b),n=parseInt(i[1]/b)}e.kill(),he.time.events.add(1e3*d(8,16),(function(){de.mainElements.intruders.add(o,n,e.type)}),this)}else\"intruzStop\"==e.randomMove&&(4===e.type||5===e.type||7===e.type||(e.frame=37))}),null,void 0),de.mainElements.player.obj.body.velocity.x=0,H.blockedKeys||(P.up.isDown&&(\"right\"===U?de.mainElements.player.obj.touchGround||de.mainElements.player.obj.animations.play(\"jump-right\"):\"left\"===U&&(de.mainElements.player.obj.touchGround||de.mainElements.player.obj.animations.play(\"jump-left\")),de.mainElements.player.obj.touchGroundTime=he.time.events.add(300,(function(){H.blockedKeys||(\"left\"===U?de.mainElements.player.obj.animations.play(\"left\"):\"right\"===U&&de.mainElements.player.obj.animations.play(\"right\"),de.mainElements.player.obj.touchGround=!0)}),void 0)),P.left.isDown?(de.mainElements.player.obj.body.velocity.x=-le,\"left\"!==U&&(de.mainElements.player.obj.animations.play(\"left\"),U=\"left\")):P.right.isDown?(de.mainElements.player.obj.body.velocity.x=le,\"right\"!==U&&(de.mainElements.player.obj.animations.play(\"right\"),U=\"right\")):\"idle\"!==U&&(de.mainElements.player.obj.animations.stop(),\"left\"===U?de.mainElements.player.obj.animations.play(\"idle-left\"):de.mainElements.player.obj.animations.play(\"idle-right\"),U=\"idle\")),he.physics.arcade.collide(de.mainElements.kladki.poziom.obj,I),he.physics.arcade.overlap(de.mainElements.kladki.poziom.obj,I,(function(e,i){e.body.velocity.x=0,e.onlyOne||(e.run=!0,e.onlyOne=!0),e.run&&(e.body.blocked.right?e.direction=\"left\":e.body.blocked.left&&(e.direction=\"right\"),\"right\"==e.direction?e.body.velocity.x=100:e.body.velocity.x=-100),(e.body.blocked.left||e.body.blocked.right)&&(e.run=!1,he.time.events.add(1e3,(function(){e.run=!0}),this)),e.isUp=!1}),null,void 0),de.mainElements.player.obj.body.allowGravity=!0,he.physics.arcade.collide(de.mainElements.kladki.poziom.obj,de.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(i.run||(i.run=!0),de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj,\"kladki-poziom\"),de.mainElements.player.obj.body.allowGravity=!0,de.mainElements.player.obj.body.bounce.y=0,i.isUp=!0,de.mainElements.player.obj.body.velocity.x+=i.body.velocity.x,de.mainElements.player.obj.body.allowGravity=!1,he.time.events.remove(de.mainElements.kladki.kladkaPlayerBounceReset),de.mainElements.kladki.kladkaPlayerBounceReset=he.time.events.add(200,(function(){de.mainElements.player.obj.body.bounce.y=.3}),this))}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.poziom.obj,de.mainElements.intruders.obj,(function(e,i){}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionTopBack.obj,de.mainElements.kladki.poziom.obj),he.physics.arcade.collide(de.mainElements.kladki.pionTopBack.obj,de.mainElements.intruders.obj,(function(e,i){de.intruzCollisonNoBack(i)})),he.physics.arcade.collide(de.mainElements.kladki.pionTopBack.obj,de.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.kladki.run.startCollision(i,\"pionTopBack\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.kladki.pionTopBack.obj,I,(function(e,i){de.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionTopBack.obj,I,(function(e,i){de.mainElements.kladki.run.endCollision(e,\"pionTopBack\")}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionBottomBack.obj,de.mainElements.kladki.poziom.obj),he.physics.arcade.collide(de.mainElements.kladki.pionBottomBack.obj,de.mainElements.intruders.obj,(function(e,i){de.intruzCollisonNoBack(i)})),he.physics.arcade.collide(de.mainElements.kladki.pionBottomBack.obj,de.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.kladki.run.startCollision(i,\"pionBottomBack\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.kladki.pionBottomBack.obj,I,(function(e,i){de.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionBottomBack.obj,I,(function(e,i){de.mainElements.kladki.run.endCollision(e,\"pionBottomBack\")}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionTop.obj,de.mainElements.kladki.poziom.obj),he.physics.arcade.collide(de.mainElements.kladki.pionTop.obj,de.mainElements.intruders.obj,(function(e,i){de.intruzCollisonNoBack(i)})),he.physics.arcade.collide(de.mainElements.kladki.pionTop.obj,de.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.kladki.run.startCollision(i,\"pionTop\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.kladki.pionTop.obj,I,(function(e,i){de.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionTop.obj,I,(function(e,i){de.mainElements.kladki.run.endCollision(e,\"pionTop\")}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionBottom.obj,de.mainElements.kladki.poziom.obj),he.physics.arcade.collide(de.mainElements.kladki.pionBottom.obj,de.mainElements.intruders.obj,(function(e,i){de.intruzCollisonNoBack(i)})),he.physics.arcade.collide(de.mainElements.kladki.pionBottom.obj,de.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(de.mainElements.player.checkIfWasKilledAndOther(de.mainElements.player.obj),de.mainElements.kladki.run.startCollision(i,\"pionBottom\"))}),null,void 0),he.physics.arcade.overlap(de.mainElements.kladki.pionBottom.obj,I,(function(e,i){de.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),he.physics.arcade.collide(de.mainElements.kladki.pionBottom.obj,I,(function(e,i){de.mainElements.kladki.run.endCollision(e,\"pionBottom\")}),null,void 0),de.mainElements.player.gun.shot(de.mainElements.player),de.mainElements.player.gun.visualGun(de.mainElements.player),\"object\"==typeof p[H.activeIdLevel]&&p[H.activeIdLevel].fog&&p[H.activeIdLevel].fogSpeed&&(D.x>=-2500?D.x=-3e3:D.x+=p[H.activeIdLevel].fogSpeed),H.backgroundParallax){if(p[H.activeIdLevel].background){let e=0;p[H.activeIdLevel].backgroundMoveX&&(e=-p[H.activeIdLevel].backgroundMoveX),z.cameraOffset.x=e-200-he.camera.x/15}p[H.activeIdLevel].backgroundSecond&&(_.cameraOffset.x=-he.camera.x/8)}de.mainElements.player.generateAgain&&!de.mainElements.player.gameOver&&(de.mainElements.player.obj.body.x=$,de.mainElements.player.obj.body.y=ee,de.mainElements.player.obj.alpha=1,de.mainElements.player.obj.play(\"idle-right\"),de.mainElements.player.generateAgain=!1),G.isDown&&(de.mainElements.player.obj.body.onFloor()||l(\"kladki\",de.mainElements.logs.obj.children,!0)||l(\"kladki\",de.mainElements.kladki.poziom.obj.children,!0)||l(\"kladki\",de.mainElements.kladki.pionTopBack.obj.children,!0)||l(\"kladki\",de.mainElements.kladki.pionBottomBack.obj.children,!0)||l(\"kladki\",de.mainElements.kladki.pionTop.obj.children,!0)||l(\"kladki\",de.mainElements.kladki.pionBottom.obj.children,!0)||de.mainElements.player.obj.youCanJump)&&he.time.now>de.mainElements.player.jumpTimer&&(H.blockedKeys||(de.mainElements.player.obj.gForceWater?(de.mainElements.player.obj.body.velocity.y=-de.mainElements.player.velocityWater,de.mainElements.player.jumpTimer=he.time.now+de.mainElements.player.velocityWater):de.mainElements.stoneBigS.keepStone?(de.mainElements.player.obj.body.velocity.y=-de.mainElements.player.velocityStone,de.mainElements.player.jumpTimer=he.time.now+de.mainElements.player.velocityStone):(de.mainElements.player.obj.body.velocity.y=-de.mainElements.player.velocityNormal,de.mainElements.player.jumpTimer=he.time.now+de.mainElements.player.velocityNormal),de.mainElements.player.obj.body.bounce.y||(de.mainElements.player.obj.body.bounce.y=.3))),de.mainElements.player.obj.t1||(de.mainElements.player.obj.onGround=!1),he.physics.arcade.overlap(de.mainElements.player.obj,de.mainElements.cactusAnimateS.obj,(function(e,i){e.holdLostLife||H.blockedKeys||(de.mainElements.player.lostLife(e),de.jumpCollision(e,250))}),null,void 0),ae||(de.windows.boxTopMenu.letAlways.show(),de.windows.boxTopMenu.f||(de.windows.boxTopMenu.let.show(),de.windows.boxTopMenu.f=!0))}},ue=()=>{console.log(\"########### Correct procent #############\"),de.mainElements.player.numberCoinsLevelProcentLastMemory>de.mainElements.player.numberCoinsLevelProcent&&(de.mainElements.player.numberCoinsLevelProcent=de.mainElements.player.numberCoinsLevelProcentLastMemory,m(\"coins-procent-\"+H.activeIdLevel,de.mainElements.player.numberCoinsLevelProcentLastMemory))},be=()=>{u(\"coins-procent-last-memory\")>0&&u(\"id-level-last-memory\")>0&&(console.log(\"################# cookies last level and last ID #################\"),console.log(u(\"id-level-last-memory\")+\" = prcent:\"+u(\"coins-procent-last-memory\")),m(\"coins-procent-\"+u(\"id-level-last-memory\"),u(\"coins-procent-last-memory\")),m(\"id-level-last-memory\",u(\"id-level-last-memory\")))};be();const pe=()=>{V.main&&(console.log(\"########### end game #############\"),he.world.removeAll(),F.destroy(),de.audio.bg.stop(),V.main=!1,de.mainElements.player.gameOver=!1,me())},ye={width:800,height:450,renderer:Phaser.AUTO,parent:\"game-content\",enableDebug:!1,state:{preload:se,create:me,update:ce}},he=new Phaser.Game(ye)}]);","extractedComments":[]}